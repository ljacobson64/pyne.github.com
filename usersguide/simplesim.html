


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Simple Simulation Input &mdash; PyNE 0.4-dev</title>
    
    <link rel="stylesheet" href="../_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.4-dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bibtex_js.js"></script>
    <script type="text/javascript" src="../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/toggle_sections.js"></script>
    <script type="text/javascript" src="../_static/toggle_sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/pyne_icon.ico"/>
    <link rel="top" title="PyNE 0.4-dev" href="../index.html" />
    <link rel="up" title="User’s Guide" href="index.html" />
    <link rel="next" title="Infinite lattice example" href="simplesim_ex_inflattice.html" />
    <link rel="prev" title="Enrichment" href="enrichment.html" /> <script type="text/javascript">
var ga_enabled = !$.cookie('disable-ga');
if(ga_enabled){
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37452818-1']);
  _gaq.push(['_setCookiePath', '/']);
  _gaq.push(['_setDetectFlash', false]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
}
</script>
  </head>
  <body>
    <div class="relbar-top">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="simplesim_ex_inflattice.html" title="Infinite lattice example"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="enrichment.html" title="Enrichment"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../gallery/index.html">Gallery</a> | </li>
    <li><a href="../index.html">PyNE</a> &raquo;</li>

          <li><a href="index.html" accesskey="U">User&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="simple-simulation-input">
<span id="usersguide-simplesim"></span><h1>Simple Simulation Input<a class="headerlink" href="#simple-simulation-input" title="Permalink to this headline">¶</a></h1>
<p>This package aids the creation, and modification, of input files for common
nuclear science and engineering codes. Currently, only MCNP (Monte Carlo
N-Particle Transport) is supported.</p>
<p>This page presents an overview of the <tt class="xref py py-mod docutils literal"><span class="pre">simplesim</span></tt> package, including a
discussion of why it was made, how it is used, and some examples. This guide is
not intended by any means to be a replacmenet for a specific code&#8217;s own
documentation.</p>
<p>It is expected that when using this package, the user has the library
reference, at <a class="reference internal" href="../pyapi/simplesim/index.html#pyne-simplesim"><em>Simple Simulation Input &#8211; pyne.simplesim</em></a>, open. The reference contains descriptions
and examples of every card that is implemented.</p>
<p>If you are interested in developing this package
further or are looking for information about the state of development, visit
<a class="reference internal" href="../devsguide/simplesim.html#devsguide-simplesim"><em>Simple Simulation Input &#8211; pyne.simplesim</em></a> and/or contact the developers.</p>
<div class="section" id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<p>Some may feel that it is fairly easy and straight-forward to create input files
for the popular codes in nuclear science and engineering. However, the
following functionality may be desirable:</p>
<ol class="arabic simple">
<li>Card numbers are managed automatically using card names, like how labels and
references work in LaTeX.</li>
<li>An object-oriented interface that allows changes to the input to be made
only in one place.</li>
<li>An abstract way to define a system and the simulation of the system that does not
depend on a specific code&#8217;s syntax. It is truly valuable to be able to
define a reactor in a way that can be used to generate input for two or more
different codes. However, the definition is not necessarily generalizable
across different codes.</li>
<li>The input is persisent and amenable to modification (e.g. for parameter
space studies).</li>
</ol>
<p>This package aims to achieve these four objectives. Currently, only MCNP is
supported.</p>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>The structure of the package, showing key methods, is illustrated in the
following diagram (the <a class="reference internal" href="../pyapi/simplesim/nestedgeom.html#module-pyne.simplesim.nestedgeom" title="pyne.simplesim.nestedgeom"><tt class="xref py py-mod docutils literal"><span class="pre">pyne.simplesim.nestedgeom</span></tt></a> module is omitted).
The basic unit of input for a simulation is a card, and there is a slew of
cards in the <a class="reference internal" href="../pyapi/simplesim/cards.html#module-pyne.simplesim.cards" title="pyne.simplesim.cards"><tt class="xref py py-mod docutils literal"><span class="pre">pyne.simplesim.cards</span></tt></a> module. The cards are added to
defintions, and the definition is handed over to an input file object which
actually creates the input file.</p>
<a class="reference internal image-reference" href="../_images/simplesimdiagram.svg"><div align="center" class="align-center"><img src="../_images/simplesimdiagram.svg" /></div>
</a>
<p>An input file is generated by the following procedure:</p>
<ol class="arabic simple">
<li>System-related cards are created directly.<ol class="loweralpha">
<li>Material cards.</li>
<li>Surface cards.</li>
<li>Regions are formed from the surfaces using <a class="reference internal" href="../pyapi/simplesim/cards.html#pyne.simplesim.cards.ISurface.neg" title="pyne.simplesim.cards.ISurface.neg"><tt class="xref py py-attr docutils literal"><span class="pre">cards.ISurface.neg</span></tt></a>,
<a class="reference internal" href="../pyapi/simplesim/cards.html#pyne.simplesim.cards.ISurface.pos" title="pyne.simplesim.cards.ISurface.pos"><tt class="xref py py-attr docutils literal"><span class="pre">cards.ISurface.pos</span></tt></a>, and the overloaded operators <tt class="docutils literal"><span class="pre">&amp;</span></tt> (the
magic method <tt class="docutils literal"><span class="pre">__and__</span></tt>) and <tt class="docutils literal"><span class="pre">|</span></tt> (the magic method <tt class="docutils literal"><span class="pre">__or__</span></tt>).</li>
<li>The regions (surface combinations) and materials are combined into cells.</li>
</ol>
</li>
<li>The cell cards are added to a <a class="reference internal" href="../pyapi/simplesim/definition.html#pyne.simplesim.definition.SystemDefinition" title="pyne.simplesim.definition.SystemDefinition"><tt class="xref py py-class docutils literal"><span class="pre">definition.SystemDefinition</span></tt></a> using
<a class="reference internal" href="../pyapi/simplesim/definition.html#pyne.simplesim.definition.SystemDefinition.add_cell" title="pyne.simplesim.definition.SystemDefinition.add_cell"><tt class="xref py py-meth docutils literal"><span class="pre">definition.SystemDefinition.add_cell()</span></tt></a>. This automatically adds the
necessary materials and surfaces to the system.<ol class="loweralpha">
<li>If the user wants to provide materials or surfaces in the system that
are not used in cells, they can do so manually using
<a class="reference internal" href="../pyapi/simplesim/definition.html#pyne.simplesim.definition.SystemDefinition.add_material" title="pyne.simplesim.definition.SystemDefinition.add_material"><tt class="xref py py-meth docutils literal"><span class="pre">definition.SystemDefinition.add_material()</span></tt></a> and
<a class="reference internal" href="../pyapi/simplesim/definition.html#pyne.simplesim.definition.SystemDefinition.add_surface" title="pyne.simplesim.definition.SystemDefinition.add_surface"><tt class="xref py py-meth docutils literal"><span class="pre">definition.SystemDefinition.add_surface()</span></tt></a>.</li>
</ol>
</li>
<li>Simulation cards are created directly. If looking for a card for which you
only know its name in a specific code (i.e. MCNP), just search for that name
in the library reference; the reference contains the name of the cards in
the specific codes.<ol class="loweralpha">
<li>Particle sources (and related source distributions).</li>
<li>Tallies/detectors.</li>
<li>Other cards.</li>
</ol>
</li>
<li>Add the simulation cards to a <a class="reference internal" href="../pyapi/simplesim/definition.html#pyne.simplesim.definition.SimulationDefinition" title="pyne.simplesim.definition.SimulationDefinition"><tt class="xref py py-class docutils literal"><span class="pre">definition.SimulationDefinition</span></tt></a>,
passing to this the system definition.  If writing an MCNP input,
<a class="reference internal" href="../pyapi/simplesim/definition.html#pyne.simplesim.definition.MCNPSimulation" title="pyne.simplesim.definition.MCNPSimulation"><tt class="xref py py-class docutils literal"><span class="pre">definition.MCNPSimulation</span></tt></a> should be used.</li>
<li>Create an object of a <a class="reference internal" href="../pyapi/simplesim/inputfile.html#pyne.simplesim.inputfile.IInputFile" title="pyne.simplesim.inputfile.IInputFile"><tt class="xref py py-class docutils literal"><span class="pre">inputfile.IInputFile</span></tt></a>, passing a simulation
definition.</li>
<li>Call the <a class="reference internal" href="../pyapi/simplesim/inputfile.html#pyne.simplesim.inputfile.IInputFile.write" title="pyne.simplesim.inputfile.IInputFile.write"><tt class="xref py py-meth docutils literal"><span class="pre">inputfile.IInputFile.write()</span></tt></a> method.</li>
<li>Modify the input (i.e. for parameter studies) by simply modifying the
attributes of the cards.</li>
</ol>
<p>Here are some things to keep in mind:</p>
<dl class="docutils">
<dt>Card names must be unique within their category</dt>
<dd>Each card has a name. Usually, the user provides the name (see below about
unique cards). Within a category (material, surface, cell, source,
distribution, tally, misc, transformation, etc.), the card name must be
unique. Card names are used to reference the card in other cards. The name
functions like labels do in LaTeX: instead of having the user provide
numbers to identify cards, the code manages the card numbers using
user-provided card names.</dd>
<dt>Unique cards</dt>
<dd>Some cards are unique, meaning there can only be one of them in the
simulation. Logically, then, the user cannot define a name for these cards,
and the names are set by the card definition.</dd>
<dt>User custom cards</dt>
<dd>The packages does not attempt to cover the entire functionality of the
code(s) it supports. Therefore, there is provision for the user to create
their own custom cards. This can be done in two ways: (1) using custom
cards, or (2) using <tt class="xref py py-meth docutils literal"><span class="pre">inputfile.IInputFile.add_user_card()</span></tt> and
<tt class="xref py py-meth docutils literal"><span class="pre">inputfile.IInputFile.add_user_literal()</span></tt>.</dd>
</dl>
</div>
<div class="section" id="modifying">
<h2>Modifying<a class="headerlink" href="#modifying" title="Permalink to this headline">¶</a></h2>
<p>In general, a definition, or the cards that make up the definition, can be
modified at any point, and a new input file can be generated with these
changes. This makes it easy to do parameter space studies and the like. See the
examples to see how this is done.</p>
<p>Furthermore, if the functionality of a card is silly, the user can override it
themselves. Say the user does not like how the method
<tt class="xref py py-meth docutils literal"><span class="pre">cards.ICellSurfTally.mcnp()</span></tt> works: a method can be overloaded by
subclassing the card and overloading the method.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>These pages contain examples of how the package is expected to be used. The
examples all come from  <cite>pyne/examples/simplesim.py</cite>.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="simplesim_ex_inflattice.html">Infinite lattice example</a></li>
<li class="toctree-l1"><a class="reference internal" href="simplesim_ex_godiva.html">Godiva example</a></li>
<li class="toctree-l1"><a class="reference internal" href="simplesim_ex_raddetect.html">Radiation detection example</a></li>
<li class="toctree-l1"><a class="reference internal" href="simplesim_ex_custom.html">Custom input example</a></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../index.html">
          <img class="logo" src="../_static/pyne_icon_small.png" alt="Logo"/>
        </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Simple Simulation Input</a><ul>
<li><a class="reference internal" href="#purpose">Purpose</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#modifying">Modifying</a></li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="enrichment.html"
                        title="previous chapter">Enrichment</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="simplesim_ex_inflattice.html"
                        title="next chapter">Infinite lattice example</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/usersguide/simplesim.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="simplesim_ex_inflattice.html" title="Infinite lattice example"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="enrichment.html" title="Enrichment"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../gallery/index.html">Gallery</a> | </li>
    <li><a href="../index.html">PyNE</a> &raquo;</li>

          <li><a href="index.html" >User&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>
    </div>

    <div class="footer">
        &copy; Copyright 2011-2013, The PyNE Development Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div><script type="text/javascript">
    if(ga_enabled){
        document.write("<div class=\"footer\">This page uses <a href=\"http://analytics.google.com\">Google Analytics</a> to collect statistics. ");
        document.write("Click <button title=\"set cookie to disable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', 'true', {expires: 3650, path: '/'}); window.location.reload(); return false; \">here</button> to disable analytics for this site.");
        document.write("</div>");
    }else{
        document.write("<div class=\"footer\">Google Analytics has been disabled. ");
        document.write("Click <button title=\"set cookie to re-enable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', null, {path: '/'}); window.location.reload(); return false; \">here</button> to re-enable analytics for this site.");
    };
</script>
    <!-- cloud_sptheme 1.3 -->
  </body>
</html>