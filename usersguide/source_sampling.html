

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Mesh-Based Source Sampling &mdash; PyNE 0.5-dev</title>
    
    <link rel="stylesheet" href="../_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.5-dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/toggle_sections.js"></script>
    <script type="text/javascript" src="../_static/toggle_sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/pyne_icon.ico"/>
    <link rel="top" title="PyNE 0.5-dev" href="../index.html" />
    <link rel="up" title="User’s Guide" href="index.html" />
    <link rel="next" title="Python API" href="../pyapi/index.html" />
    <link rel="prev" title="JsonCpp: Python bindings for JsonCpp" href="jsoncpp.html" /> <script type="text/javascript">
var ga_enabled = !$.cookie('disable-ga');
if(ga_enabled){
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37452818-1']);
  _gaq.push(['_setCookiePath', '/']);
  _gaq.push(['_setDetectFlash', false]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
}
</script>
  </head>
  <body>
    <div class="relbar-top">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="../pyapi/index.html" title="Python API"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="jsoncpp.html" title="JsonCpp: Python bindings for JsonCpp"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../gallery/index.html">Gallery</a> | </li>
    <li><a href="../index.html">PyNE</a> &raquo;</li>

          <li><a href="index.html" accesskey="U">User&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="mesh-based-source-sampling">
<span id="usersguide-source-sampling"></span><h1>Mesh-Based Source Sampling<a class="headerlink" href="#mesh-based-source-sampling" title="Permalink to this headline">¶</a></h1>
<p>The source sampling module implements mesh-based source sampling (both
Cartesian and tetrahedral) which can be used as a component within Monte Carlo
radiation transport codes. A MOAB mesh tagged with energy-wise source densities
(and optional biased source densities) is supplied by the user. The user
can then supply six pseudorandom numbers in order to generate a random sample
of the particle birth parameters (position, energy, statistical weight).  The
source sampling module is written in C++ and has fully-supported C++, Fortran,
and Python interfaces, which facilitates its use within physics codes. The
source sampling module allows for three sampling modes:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">analog:</th><td class="field-body">Particle birth parameters are sampled directly from a unmodified
probability distribution function created from the source density mesh
(i.e. positions/energies with high source density are sampled more often
than those of low source density).</td>
</tr>
<tr class="field-even field"><th class="field-name">uniform:</th><td class="field-body">All mesh volume elements are sampled with equal probability. Energy bins are
sampled in analog from the distribution within a given mesh volume element.
Statistical weights of particles are modified accordingly.</td>
</tr>
<tr class="field-odd field"><th class="field-name">user:</th><td class="field-body">In addition to source densities, the user supplies (on the same mesh) biased
source densities. Particle birth parameters are then sampled on the basis of
the biased source densities, and the statistical weight of particles is
modified accordingly. The biased source density tag has the same length as the
source density tag. Alternatively, the tag may have a length of 1, in which
case the bias is only applied spatially and energy groups are sampled in
analog.</td>
</tr>
</tbody>
</table>
<p>A complete description of the theory involved can be found in the
source_sampling entry in the PyNE theory manual.</p>
<div class="section" id="c-interface">
<h2>C++ interface<a class="headerlink" href="#c-interface" title="Permalink to this headline">¶</a></h2>
<p>An object of the Sampler class is first instantiated using 1 of 2 constructors:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">analog and uniform constructor:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><dl class="first docutils">
<dt>Sampler(std::string filename,</dt>
<dd><p class="first last">std::string src_tag_name,
std::vector&lt;double&gt; e_bounds,
bool uniform)</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">user constructor:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><dl class="first last docutils">
<dt>Sampler(std::string filename,</dt>
<dd><p class="first last">std::string src_tag_name,
std::vector&lt;double&gt; e_bounds,
std::string bias_tag_name)</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p>The &#8220;filename&#8221; is a MOAB mesh file (.h5m). The &#8220;src_tag_name&#8221; is the name
of the tag on the mesh that stores the source densities. The source density can
be specified for an arbitrary number of energy groups, stored as a MOAB vector
tag. The &#8220;e_bounds&#8221; parameter describes the upper and lower bounds of these
energy groups. For example if the src_tag_name tag is a vector of length 175
(for 175 energy groups), e_bounds should be of length 176. The final parameter
differs for the two constructors. A bool can be supplied: false for analog
sampling or true for uniform sampling. Alternatively, a string can be supplied
to denote the name of a tag (on the same mesh) which supplies biased source
densities.</p>
<p>Once a Sampler object is created the Sampler.particle_birth() method is called.
This method takes a single argument: a vector of 6 pseudorandom number between
0 and 1. This method returns a vector of length 5 containing the sampled x position, y position,
z position, energy, and weight respectively.
eight
An example C++ program is supplied below. This program requires a mesh file
named &#8220;source.h5m&#8221; with a tag named &#8220;source_density&#8221; of length 1.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cp">#include &quot;stdlib.h&quot;</span>
<span class="cp">#include  &lt;iostream&gt;</span>
<span class="cp">#include &quot;pyne/source_sampling.h&quot;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>

  <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">filename</span><span class="p">(</span><span class="s">&quot;source.h5m&quot;</span><span class="p">);</span>
  <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">src_tag_name</span><span class="p">(</span><span class="s">&quot;source_density&quot;</span><span class="p">);</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">e_bounds</span><span class="p">;</span>
  <span class="n">e_bounds</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="c1">// 1 energy group, lower bound of 0 upper bound of 1</span>
  <span class="n">e_bounds</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

  <span class="n">pyne</span><span class="o">::</span><span class="n">Sampler</span> <span class="n">s</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">src_tag_name</span><span class="p">,</span> <span class="n">e_bounds</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>

  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">rands</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">6</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="n">rands</span><span class="p">.</span><span class="n">push_back</span><span class="p">((</span><span class="kt">double</span><span class="p">)</span><span class="n">rand</span><span class="p">()</span><span class="o">/</span><span class="n">RAND_MAX</span><span class="p">);</span>

  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">samp</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">particle_birth</span><span class="p">(</span><span class="n">rands</span><span class="p">);</span>

  <span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">&quot;x: &quot;</span><span class="o">&lt;&lt;</span><span class="n">samp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&lt;&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">&quot;y: &quot;</span><span class="o">&lt;&lt;</span><span class="n">samp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&lt;&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">&quot;z: &quot;</span><span class="o">&lt;&lt;</span><span class="n">samp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&lt;&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">&quot;e: &quot;</span><span class="o">&lt;&lt;</span><span class="n">samp</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">&lt;&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">&quot;w: &quot;</span><span class="o">&lt;&lt;</span><span class="n">samp</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">&lt;&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

 <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This program can be complied with:</p>
<div class="highlight-bash"><div class="highlight"><pre>g++ test.cpp -o <span class="nb">test</span> -lMOAB -lpyne
</pre></div>
</div>
</div>
<div class="section" id="python-interface">
<h2>Python interface<a class="headerlink" href="#python-interface" title="Permalink to this headline">¶</a></h2>
<p>The Python interface mainly exists for the purpose of testing the Sampler class
with python.nose. It can be used in the same manner as the C++ class:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">uniform</span>
<span class="kn">from</span> <span class="nn">pyne.source_sampling</span> <span class="kn">import</span> <span class="n">Sampler</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">Sampler</span><span class="p">(</span><span class="s">&quot;source.h5m&quot;</span><span class="p">,</span> <span class="s">&quot;source_density&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">samp</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">particle_birth</span><span class="p">([</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)])</span>

<span class="k">print</span><span class="p">(</span><span class="s">&quot;x: {0}</span><span class="se">\n</span><span class="s">y: {1}</span><span class="se">\n</span><span class="s">z: {2}</span><span class="se">\n</span><span class="s">e: {3}</span><span class="se">\n</span><span class="s">w: {4}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
          <span class="n">samp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">samp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">samp</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">samp</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">samp</span><span class="p">[</span><span class="mi">4</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="section" id="fortran-interface">
<h2>Fortran Interface<a class="headerlink" href="#fortran-interface" title="Permalink to this headline">¶</a></h2>
<p>Because Fortran cannot store an instance of the Sampler class, to perform
source sampling from Fortran, a free-standing function &#8220;sampling_setup&#8221; is
called to create a global instance of the sampling class. This function takes
a single argument: an integer representing the problem mode (0: analog, 1:
uniform, 2: user). This function assumes the mesh file is &#8220;source.h5m&#8221; and
that the tag names are &#8220;source_density&#8221; and &#8220;biased_source_density&#8221;. In
addition, this function assumes that a file &#8220;e_bounds&#8221; is present which is
a plain text file containing the energy boundaries.</p>
<p>An example program using the Fortran interface is shown below:</p>
<div class="highlight-fortran"><div class="highlight"><pre><span class="k">program </span><span class="nv">test</span>
  <span class="k">implicit none</span>
<span class="k">  </span><span class="kt">double precision</span> <span class="kd">::</span> <span class="nv">x</span><span class="p">,</span> <span class="nv">y</span><span class="p">,</span> <span class="nv">z</span><span class="p">,</span> <span class="nv">e</span><span class="p">,</span> <span class="nv">w</span>
  <span class="kt">double precision</span><span class="p">,</span> <span class="k">dimension</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="kd">::</span> <span class="nv">rands</span>
  <span class="kt">integer</span><span class="kd">::</span> <span class="nv">i</span><span class="p">,</span> <span class="nv">j</span><span class="p">,</span> <span class="nv">mode</span>

  <span class="nv">mode</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="k">call </span><span class="nv">sampling_setup</span><span class="p">(</span><span class="nv">mode</span><span class="p">)</span>

  <span class="k">do </span><span class="nv">j</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span>
    <span class="nv">rands</span><span class="p">(</span><span class="nv">j</span><span class="p">)</span> <span class="o">=</span> <span class="nb">RAND</span><span class="p">()</span>
  <span class="k">end do</span>

<span class="k">  call </span><span class="nv">particle_birth</span><span class="p">(</span><span class="nv">rands</span><span class="p">,</span> <span class="nv">x</span><span class="p">,</span> <span class="nv">y</span><span class="p">,</span> <span class="nv">z</span><span class="p">,</span> <span class="nv">e</span><span class="p">,</span> <span class="nv">w</span><span class="p">)</span>
  <span class="k">print</span><span class="o">*</span><span class="p">,</span> <span class="s2">&quot;x: &quot;</span><span class="p">,</span> <span class="nv">x</span>
  <span class="k">print</span><span class="o">*</span><span class="p">,</span> <span class="s2">&quot;y: &quot;</span><span class="p">,</span> <span class="nv">y</span>
  <span class="k">print</span><span class="o">*</span><span class="p">,</span> <span class="s2">&quot;x: &quot;</span><span class="p">,</span> <span class="nv">z</span>
  <span class="k">print</span><span class="o">*</span><span class="p">,</span> <span class="s2">&quot;e: &quot;</span><span class="p">,</span> <span class="nv">e</span>
  <span class="k">print</span><span class="o">*</span><span class="p">,</span> <span class="s2">&quot;w: &quot;</span><span class="p">,</span> <span class="nv">w</span>

<span class="k">end program </span><span class="nv">test</span>
</pre></div>
</div>
<p>This program can be compiled like:</p>
<div class="highlight-bash"><div class="highlight"><pre>gfortran test.F90 -lpyne -lstdc++ -o <span class="nb">test</span>
</pre></div>
</div>
</div>
<div class="section" id="source-sampling-in-mcnp5">
<h2>Source Sampling in MCNP5<a class="headerlink" href="#source-sampling-in-mcnp5" title="Permalink to this headline">¶</a></h2>
<p>Standard MCNP5 ships with an empty source subroutine &#8220;source.F90&#8221; which can
be completed by the user in order to implement any form of custom source
sampling. A source.F90 file has been written to allow for the use of PyNE
source sampling within MCNP5. This file is found in pyne/share/source.F90.
The simplest way to compile MCNP5 with the source subroutine is as follows:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Obtain a copy of the MCNP5 source code.</li>
<li>Navigate to the folder MCNP5/Source/src.</li>
<li>Soft-link the following files into this folder:<ol class="loweralpha">
<li>pyne/src/source_sampling.cpp</li>
<li>pyne/src/source_sampling.h</li>
<li>pyne/src/measure.cpp</li>
<li>pyne/src/measure.h</li>
</ol>
</li>
<li>Remove the pre-existing empty source.F90 file.</li>
<li>Soft-link pyne/src/source.F90.</li>
<li>Open the file MCNP/Source/src/FILE.list.</li>
<li>Edit line 78 to include the additional source files. It should look like &#8220;CXX_SRC := measure.cpp source_sampling.cpp&#8221;.</li>
<li>Compile MCNP5 using the standard build method.</li>
</ol>
</div></blockquote>
<p>Once MCNP5 is compiled, MCNP5 can be run normally. The file &#8220;source.h5m&#8221; must
be present in the working directory that MCNP5 is run from. This file should
contain source densities (on the &#8220;source_density&#8221; tag) and optionally biased
source densities (the &#8220;biased_source_density&#8221; tag). An &#8220;idum&#8221; card must be used
in the MCNP5 input file. This card should have two arguments. The first is the
sampling mode (0: analog, 1: uniform, 2: user). The second is the resample
limit for void rejection. For a given particle, if a source position is
selected in void (MCNP materal 0) the source position is resampled within the
selected mesh volume element until either a non-void position is found, or this
user-specified limit is researched.</p>
<p>For example, this &#8220;idum&#8221; card specifies uniform sampling with a resample limit
of 100:</p>
<div class="highlight-bash"><div class="highlight"><pre>idum 1 100
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../index.html">
          <img class="logo" src="../_static/pyne_icon_small.png" alt="Logo"/>
        </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Mesh-Based Source Sampling</a><ul>
<li><a class="reference internal" href="#c-interface">C++ interface</a></li>
<li><a class="reference internal" href="#python-interface">Python interface</a></li>
<li><a class="reference internal" href="#fortran-interface">Fortran Interface</a></li>
<li><a class="reference internal" href="#source-sampling-in-mcnp5">Source Sampling in MCNP5</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="jsoncpp.html"
                        title="previous chapter">JsonCpp: Python bindings for JsonCpp</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../pyapi/index.html"
                        title="next chapter">Python API</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/usersguide/source_sampling.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="../pyapi/index.html" title="Python API"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="jsoncpp.html" title="JsonCpp: Python bindings for JsonCpp"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../gallery/index.html">Gallery</a> | </li>
    <li><a href="../index.html">PyNE</a> &raquo;</li>

          <li><a href="index.html" >User&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>
    </div>

    <div class="footer">
        &copy; Copyright 2011-2014, The PyNE Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div><script type="text/javascript">
    if(ga_enabled){
        document.write("<div class=\"footer\">This page uses <a href=\"http://analytics.google.com\">Google Analytics</a> to collect statistics. ");
        document.write("Click <button title=\"set cookie to disable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', 'true', {expires: 3650, path: '/'}); window.location.reload(); return false; \">here</button> to disable analytics for this site.");
        document.write("</div>");
    }else{
        document.write("<div class=\"footer\">Google Analytics has been disabled. ");
        document.write("Click <button title=\"set cookie to re-enable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', null, {path: '/'}); window.location.reload(); return false; \">here</button> to re-enable analytics for this site.");
    };
</script>
    <!-- cloud_sptheme 1.3 -->
  </body>
</html>