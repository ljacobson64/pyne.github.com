


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pyne.origen22 &mdash; PyNE 0.5-dev</title>
    
    <link rel="stylesheet" href="../../_static/pyne.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.5-dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../../_static/cloud.js"></script>
    <link rel="shortcut icon" href="../../_static/pyne_icon.ico"/>
    <link rel="top" title="PyNE 0.5-dev" href="../../index.html" />
    <link rel="up" title="Module code" href="../index.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1"><script type="text/javascript">
var ga_enabled = !$.cookie('disable-ga');
if(ga_enabled){
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37452818-1']);
  _gaq.push(['_setCookiePath', '/']);
  _gaq.push(['_setDetectFlash', false]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
}
</script>
  </head>
  <body>
    <div class="relbar-top">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="../../np-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
    <li><a href="../../index.html">PyNE</a> &raquo;</li>

          <li><a href="../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for pyne.origen22</h1><div class="highlight"><pre>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span><span class="p">,</span> <span class="n">division</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">future_builtins</span> <span class="kn">import</span> <span class="nb">map</span><span class="p">,</span> <span class="nb">zip</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">pass</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Mapping</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">chain</span>
<span class="kn">from</span> <span class="nn">warnings</span> <span class="kn">import</span> <span class="n">warn</span>
<span class="kn">from</span> <span class="nn">pyne.utils</span> <span class="kn">import</span> <span class="n">QAWarning</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">pyne</span> <span class="kn">import</span> <span class="n">data</span>
<span class="kn">from</span> <span class="nn">pyne</span> <span class="kn">import</span> <span class="n">nucname</span>
<span class="kn">from</span> <span class="nn">pyne.xs</span> <span class="kn">import</span> <span class="n">cache</span>
<span class="kn">from</span> <span class="nn">pyne</span> <span class="kn">import</span> <span class="n">decay_tape9</span>
<span class="kn">from</span> <span class="nn">pyne.material</span> <span class="kn">import</span> <span class="n">Material</span><span class="p">,</span> <span class="n">from_atom_frac</span>

<span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
    <span class="nb">basestring</span> <span class="o">=</span> <span class="nb">str</span>
    <span class="nb">unicode</span> <span class="o">=</span> <span class="nb">str</span>

<span class="n">warn</span><span class="p">(</span><span class="n">__name__</span> <span class="o">+</span> <span class="s">&quot; is not yet QA compliant.&quot;</span><span class="p">,</span> <span class="n">QAWarning</span><span class="p">)</span>

<span class="n">BASE_TAPE9</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">),</span> <span class="s">&#39;base_tape9.inp&#39;</span><span class="p">)</span>

<span class="n">ACTIVATION_PRODUCT_NUCS</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">([</span><span class="mi">10010000</span><span class="p">,</span>
    <span class="mi">10020000</span><span class="p">,</span>  <span class="mi">10030000</span><span class="p">,</span>  <span class="mi">10040000</span><span class="p">,</span>  <span class="mi">20030000</span><span class="p">,</span>  <span class="mi">20040000</span><span class="p">,</span>  <span class="mi">20060000</span><span class="p">,</span>  <span class="mi">30060000</span><span class="p">,</span>
    <span class="mi">30070000</span><span class="p">,</span>  <span class="mi">30080000</span><span class="p">,</span>  <span class="mi">40080000</span><span class="p">,</span>  <span class="mi">40090000</span><span class="p">,</span>  <span class="mi">40100000</span><span class="p">,</span>  <span class="mi">40110000</span><span class="p">,</span>  <span class="mi">50100000</span><span class="p">,</span>
    <span class="mi">50110000</span><span class="p">,</span>  <span class="mi">50120000</span><span class="p">,</span>  <span class="mi">60120000</span><span class="p">,</span>  <span class="mi">60130000</span><span class="p">,</span>  <span class="mi">60140000</span><span class="p">,</span>  <span class="mi">60150000</span><span class="p">,</span>  <span class="mi">70130000</span><span class="p">,</span>
    <span class="mi">70140000</span><span class="p">,</span>  <span class="mi">70150000</span><span class="p">,</span>  <span class="mi">70160000</span><span class="p">,</span>  <span class="mi">80160000</span><span class="p">,</span>  <span class="mi">80170000</span><span class="p">,</span>  <span class="mi">80180000</span><span class="p">,</span>  <span class="mi">80190000</span><span class="p">,</span>
    <span class="mi">90190000</span><span class="p">,</span>  <span class="mi">90200000</span><span class="p">,</span>  <span class="mi">100200000</span><span class="p">,</span> <span class="mi">100210000</span><span class="p">,</span> <span class="mi">100220000</span><span class="p">,</span> <span class="mi">100230000</span><span class="p">,</span> <span class="mi">110220000</span><span class="p">,</span>
    <span class="mi">110230000</span><span class="p">,</span> <span class="mi">110240000</span><span class="p">,</span> <span class="mi">110240001</span><span class="p">,</span> <span class="mi">110250000</span><span class="p">,</span> <span class="mi">120240000</span><span class="p">,</span> <span class="mi">120250000</span><span class="p">,</span> <span class="mi">120260000</span><span class="p">,</span>
    <span class="mi">120270000</span><span class="p">,</span> <span class="mi">120280000</span><span class="p">,</span> <span class="mi">130270000</span><span class="p">,</span> <span class="mi">130280000</span><span class="p">,</span> <span class="mi">130290000</span><span class="p">,</span> <span class="mi">130300000</span><span class="p">,</span> <span class="mi">140280000</span><span class="p">,</span>
    <span class="mi">140290000</span><span class="p">,</span> <span class="mi">140300000</span><span class="p">,</span> <span class="mi">140310000</span><span class="p">,</span> <span class="mi">140320000</span><span class="p">,</span> <span class="mi">150310000</span><span class="p">,</span> <span class="mi">150320000</span><span class="p">,</span> <span class="mi">150330000</span><span class="p">,</span>
    <span class="mi">150340000</span><span class="p">,</span> <span class="mi">160320000</span><span class="p">,</span> <span class="mi">160330000</span><span class="p">,</span> <span class="mi">160340000</span><span class="p">,</span> <span class="mi">160350000</span><span class="p">,</span> <span class="mi">160360000</span><span class="p">,</span> <span class="mi">160370000</span><span class="p">,</span>
    <span class="mi">170350000</span><span class="p">,</span> <span class="mi">170360000</span><span class="p">,</span> <span class="mi">170370000</span><span class="p">,</span> <span class="mi">170380000</span><span class="p">,</span> <span class="mi">170380001</span><span class="p">,</span> <span class="mi">180360000</span><span class="p">,</span> <span class="mi">180370000</span><span class="p">,</span>
    <span class="mi">180380000</span><span class="p">,</span> <span class="mi">180390000</span><span class="p">,</span> <span class="mi">180400000</span><span class="p">,</span> <span class="mi">180410000</span><span class="p">,</span> <span class="mi">180420000</span><span class="p">,</span> <span class="mi">190390000</span><span class="p">,</span> <span class="mi">190400000</span><span class="p">,</span>
    <span class="mi">190410000</span><span class="p">,</span> <span class="mi">190420000</span><span class="p">,</span> <span class="mi">190430000</span><span class="p">,</span> <span class="mi">190440000</span><span class="p">,</span> <span class="mi">200400000</span><span class="p">,</span> <span class="mi">200410000</span><span class="p">,</span> <span class="mi">200420000</span><span class="p">,</span>
    <span class="mi">200430000</span><span class="p">,</span> <span class="mi">200440000</span><span class="p">,</span> <span class="mi">200450000</span><span class="p">,</span> <span class="mi">200460000</span><span class="p">,</span> <span class="mi">200470000</span><span class="p">,</span> <span class="mi">200480000</span><span class="p">,</span> <span class="mi">200490000</span><span class="p">,</span>
    <span class="mi">210450000</span><span class="p">,</span> <span class="mi">210460000</span><span class="p">,</span> <span class="mi">210460001</span><span class="p">,</span> <span class="mi">210470000</span><span class="p">,</span> <span class="mi">210480000</span><span class="p">,</span> <span class="mi">210490000</span><span class="p">,</span> <span class="mi">210500000</span><span class="p">,</span>
    <span class="mi">220460000</span><span class="p">,</span> <span class="mi">220470000</span><span class="p">,</span> <span class="mi">220480000</span><span class="p">,</span> <span class="mi">220490000</span><span class="p">,</span> <span class="mi">220500000</span><span class="p">,</span> <span class="mi">220510000</span><span class="p">,</span> <span class="mi">230490000</span><span class="p">,</span>
    <span class="mi">230500000</span><span class="p">,</span> <span class="mi">230510000</span><span class="p">,</span> <span class="mi">230520000</span><span class="p">,</span> <span class="mi">230530000</span><span class="p">,</span> <span class="mi">230540000</span><span class="p">,</span> <span class="mi">240500000</span><span class="p">,</span> <span class="mi">240510000</span><span class="p">,</span>
    <span class="mi">240520000</span><span class="p">,</span> <span class="mi">240530000</span><span class="p">,</span> <span class="mi">240540000</span><span class="p">,</span> <span class="mi">240550000</span><span class="p">,</span> <span class="mi">250540000</span><span class="p">,</span> <span class="mi">250550000</span><span class="p">,</span> <span class="mi">250560000</span><span class="p">,</span>
    <span class="mi">250570000</span><span class="p">,</span> <span class="mi">250580000</span><span class="p">,</span> <span class="mi">260540000</span><span class="p">,</span> <span class="mi">260550000</span><span class="p">,</span> <span class="mi">260560000</span><span class="p">,</span> <span class="mi">260570000</span><span class="p">,</span> <span class="mi">260580000</span><span class="p">,</span>
    <span class="mi">260590000</span><span class="p">,</span> <span class="mi">270580000</span><span class="p">,</span> <span class="mi">270580001</span><span class="p">,</span> <span class="mi">270590000</span><span class="p">,</span> <span class="mi">270600000</span><span class="p">,</span> <span class="mi">270600001</span><span class="p">,</span> <span class="mi">270610000</span><span class="p">,</span>
    <span class="mi">270620000</span><span class="p">,</span> <span class="mi">280580000</span><span class="p">,</span> <span class="mi">280590000</span><span class="p">,</span> <span class="mi">280600000</span><span class="p">,</span> <span class="mi">280610000</span><span class="p">,</span> <span class="mi">280620000</span><span class="p">,</span> <span class="mi">280630000</span><span class="p">,</span>
    <span class="mi">280640000</span><span class="p">,</span> <span class="mi">280650000</span><span class="p">,</span> <span class="mi">280660000</span><span class="p">,</span> <span class="mi">290620000</span><span class="p">,</span> <span class="mi">290630000</span><span class="p">,</span> <span class="mi">290640000</span><span class="p">,</span> <span class="mi">290650000</span><span class="p">,</span>
    <span class="mi">290660000</span><span class="p">,</span> <span class="mi">290670000</span><span class="p">,</span> <span class="mi">300630000</span><span class="p">,</span> <span class="mi">300640000</span><span class="p">,</span> <span class="mi">300650000</span><span class="p">,</span> <span class="mi">300660000</span><span class="p">,</span> <span class="mi">300670000</span><span class="p">,</span>
    <span class="mi">300680000</span><span class="p">,</span> <span class="mi">300690000</span><span class="p">,</span> <span class="mi">300690001</span><span class="p">,</span> <span class="mi">300700000</span><span class="p">,</span> <span class="mi">300710000</span><span class="p">,</span> <span class="mi">300710001</span><span class="p">,</span> <span class="mi">310690000</span><span class="p">,</span>
    <span class="mi">310700000</span><span class="p">,</span> <span class="mi">310710000</span><span class="p">,</span> <span class="mi">310720000</span><span class="p">,</span> <span class="mi">310720001</span><span class="p">,</span> <span class="mi">320700000</span><span class="p">,</span> <span class="mi">320710000</span><span class="p">,</span> <span class="mi">320710001</span><span class="p">,</span>
    <span class="mi">320720000</span><span class="p">,</span> <span class="mi">320730000</span><span class="p">,</span> <span class="mi">320740000</span><span class="p">,</span> <span class="mi">320750000</span><span class="p">,</span> <span class="mi">320750001</span><span class="p">,</span> <span class="mi">320760000</span><span class="p">,</span> <span class="mi">320770000</span><span class="p">,</span>
    <span class="mi">320770001</span><span class="p">,</span> <span class="mi">330750000</span><span class="p">,</span> <span class="mi">330760000</span><span class="p">,</span> <span class="mi">330770000</span><span class="p">,</span> <span class="mi">340740000</span><span class="p">,</span> <span class="mi">340750000</span><span class="p">,</span> <span class="mi">340760000</span><span class="p">,</span>
    <span class="mi">340770000</span><span class="p">,</span> <span class="mi">340770001</span><span class="p">,</span> <span class="mi">340780000</span><span class="p">,</span> <span class="mi">340790000</span><span class="p">,</span> <span class="mi">340790001</span><span class="p">,</span> <span class="mi">340800000</span><span class="p">,</span> <span class="mi">340810000</span><span class="p">,</span>
    <span class="mi">340810001</span><span class="p">,</span> <span class="mi">340820000</span><span class="p">,</span> <span class="mi">340830000</span><span class="p">,</span> <span class="mi">340830001</span><span class="p">,</span> <span class="mi">350790000</span><span class="p">,</span> <span class="mi">350800000</span><span class="p">,</span> <span class="mi">350800001</span><span class="p">,</span>
    <span class="mi">350810000</span><span class="p">,</span> <span class="mi">350820000</span><span class="p">,</span> <span class="mi">350820001</span><span class="p">,</span> <span class="mi">350830000</span><span class="p">,</span> <span class="mi">360780000</span><span class="p">,</span> <span class="mi">360790000</span><span class="p">,</span> <span class="mi">360790001</span><span class="p">,</span>
    <span class="mi">360800000</span><span class="p">,</span> <span class="mi">360810000</span><span class="p">,</span> <span class="mi">360810001</span><span class="p">,</span> <span class="mi">360820000</span><span class="p">,</span> <span class="mi">360830000</span><span class="p">,</span> <span class="mi">360830001</span><span class="p">,</span> <span class="mi">360840000</span><span class="p">,</span>
    <span class="mi">360850000</span><span class="p">,</span> <span class="mi">360850001</span><span class="p">,</span> <span class="mi">360860000</span><span class="p">,</span> <span class="mi">360870000</span><span class="p">,</span> <span class="mi">360880000</span><span class="p">,</span> <span class="mi">370850000</span><span class="p">,</span> <span class="mi">370860000</span><span class="p">,</span>
    <span class="mi">370860001</span><span class="p">,</span> <span class="mi">370870000</span><span class="p">,</span> <span class="mi">370880000</span><span class="p">,</span> <span class="mi">370890000</span><span class="p">,</span> <span class="mi">380840000</span><span class="p">,</span> <span class="mi">380850000</span><span class="p">,</span> <span class="mi">380850001</span><span class="p">,</span>
    <span class="mi">380860000</span><span class="p">,</span> <span class="mi">380870000</span><span class="p">,</span> <span class="mi">380870001</span><span class="p">,</span> <span class="mi">380880000</span><span class="p">,</span> <span class="mi">380890000</span><span class="p">,</span> <span class="mi">380900000</span><span class="p">,</span> <span class="mi">380910000</span><span class="p">,</span>
    <span class="mi">380930000</span><span class="p">,</span> <span class="mi">390890000</span><span class="p">,</span> <span class="mi">390890001</span><span class="p">,</span> <span class="mi">390900000</span><span class="p">,</span> <span class="mi">390900001</span><span class="p">,</span> <span class="mi">390910000</span><span class="p">,</span> <span class="mi">390920000</span><span class="p">,</span>
    <span class="mi">390930000</span><span class="p">,</span> <span class="mi">390940000</span><span class="p">,</span> <span class="mi">390960000</span><span class="p">,</span> <span class="mi">400890000</span><span class="p">,</span> <span class="mi">400900000</span><span class="p">,</span> <span class="mi">400910000</span><span class="p">,</span> <span class="mi">400920000</span><span class="p">,</span>
    <span class="mi">400930000</span><span class="p">,</span> <span class="mi">400940000</span><span class="p">,</span> <span class="mi">400950000</span><span class="p">,</span> <span class="mi">400960000</span><span class="p">,</span> <span class="mi">400970000</span><span class="p">,</span> <span class="mi">410910000</span><span class="p">,</span> <span class="mi">410920000</span><span class="p">,</span>
    <span class="mi">410930000</span><span class="p">,</span> <span class="mi">410930001</span><span class="p">,</span> <span class="mi">410940000</span><span class="p">,</span> <span class="mi">410950000</span><span class="p">,</span> <span class="mi">410950001</span><span class="p">,</span> <span class="mi">410960000</span><span class="p">,</span> <span class="mi">410970000</span><span class="p">,</span>
    <span class="mi">410970001</span><span class="p">,</span> <span class="mi">410980000</span><span class="p">,</span> <span class="mi">411000000</span><span class="p">,</span> <span class="mi">420920000</span><span class="p">,</span> <span class="mi">420930000</span><span class="p">,</span> <span class="mi">420930001</span><span class="p">,</span> <span class="mi">420940000</span><span class="p">,</span>
    <span class="mi">420950000</span><span class="p">,</span> <span class="mi">420960000</span><span class="p">,</span> <span class="mi">420970000</span><span class="p">,</span> <span class="mi">420980000</span><span class="p">,</span> <span class="mi">420990000</span><span class="p">,</span> <span class="mi">421000000</span><span class="p">,</span> <span class="mi">421010000</span><span class="p">,</span>
    <span class="mi">430970000</span><span class="p">,</span> <span class="mi">430970001</span><span class="p">,</span> <span class="mi">430980000</span><span class="p">,</span> <span class="mi">430990000</span><span class="p">,</span> <span class="mi">431000000</span><span class="p">,</span> <span class="mi">431010000</span><span class="p">,</span> <span class="mi">440960000</span><span class="p">,</span>
    <span class="mi">440970000</span><span class="p">,</span> <span class="mi">440980000</span><span class="p">,</span> <span class="mi">440990000</span><span class="p">,</span> <span class="mi">441000000</span><span class="p">,</span> <span class="mi">441010000</span><span class="p">,</span> <span class="mi">441020000</span><span class="p">,</span> <span class="mi">441030000</span><span class="p">,</span>
    <span class="mi">441040000</span><span class="p">,</span> <span class="mi">441050000</span><span class="p">,</span> <span class="mi">441060000</span><span class="p">,</span> <span class="mi">441070000</span><span class="p">,</span> <span class="mi">451020000</span><span class="p">,</span> <span class="mi">451030000</span><span class="p">,</span> <span class="mi">451040000</span><span class="p">,</span>
    <span class="mi">451040001</span><span class="p">,</span> <span class="mi">451050000</span><span class="p">,</span> <span class="mi">451050001</span><span class="p">,</span> <span class="mi">451060000</span><span class="p">,</span> <span class="mi">451060001</span><span class="p">,</span> <span class="mi">451070000</span><span class="p">,</span> <span class="mi">461020000</span><span class="p">,</span>
    <span class="mi">461030000</span><span class="p">,</span> <span class="mi">461040000</span><span class="p">,</span> <span class="mi">461050000</span><span class="p">,</span> <span class="mi">461060000</span><span class="p">,</span> <span class="mi">461070000</span><span class="p">,</span> <span class="mi">461070001</span><span class="p">,</span> <span class="mi">461080000</span><span class="p">,</span>
    <span class="mi">461090000</span><span class="p">,</span> <span class="mi">461090001</span><span class="p">,</span> <span class="mi">461100000</span><span class="p">,</span> <span class="mi">461110000</span><span class="p">,</span> <span class="mi">461110001</span><span class="p">,</span> <span class="mi">471060000</span><span class="p">,</span> <span class="mi">471070000</span><span class="p">,</span>
    <span class="mi">471080000</span><span class="p">,</span> <span class="mi">471080001</span><span class="p">,</span> <span class="mi">471090000</span><span class="p">,</span> <span class="mi">471090001</span><span class="p">,</span> <span class="mi">471100000</span><span class="p">,</span> <span class="mi">471100001</span><span class="p">,</span> <span class="mi">471110000</span><span class="p">,</span>
    <span class="mi">471110001</span><span class="p">,</span> <span class="mi">471120000</span><span class="p">,</span> <span class="mi">481060000</span><span class="p">,</span> <span class="mi">481070000</span><span class="p">,</span> <span class="mi">481080000</span><span class="p">,</span> <span class="mi">481090000</span><span class="p">,</span> <span class="mi">481100000</span><span class="p">,</span>
    <span class="mi">481110000</span><span class="p">,</span> <span class="mi">481110001</span><span class="p">,</span> <span class="mi">481120000</span><span class="p">,</span> <span class="mi">481130000</span><span class="p">,</span> <span class="mi">481140000</span><span class="p">,</span> <span class="mi">481150000</span><span class="p">,</span> <span class="mi">481150001</span><span class="p">,</span>
    <span class="mi">481160000</span><span class="p">,</span> <span class="mi">481170000</span><span class="p">,</span> <span class="mi">481170001</span><span class="p">,</span> <span class="mi">481190000</span><span class="p">,</span> <span class="mi">481210000</span><span class="p">,</span> <span class="mi">491130000</span><span class="p">,</span> <span class="mi">491130001</span><span class="p">,</span>
    <span class="mi">491140000</span><span class="p">,</span> <span class="mi">491140001</span><span class="p">,</span> <span class="mi">491150000</span><span class="p">,</span> <span class="mi">491160000</span><span class="p">,</span> <span class="mi">491160001</span><span class="p">,</span> <span class="mi">491170000</span><span class="p">,</span> <span class="mi">491170001</span><span class="p">,</span>
    <span class="mi">491180000</span><span class="p">,</span> <span class="mi">491190000</span><span class="p">,</span> <span class="mi">491190001</span><span class="p">,</span> <span class="mi">491200000</span><span class="p">,</span> <span class="mi">491200001</span><span class="p">,</span> <span class="mi">491210000</span><span class="p">,</span> <span class="mi">501120000</span><span class="p">,</span>
    <span class="mi">501130000</span><span class="p">,</span> <span class="mi">501130001</span><span class="p">,</span> <span class="mi">501140000</span><span class="p">,</span> <span class="mi">501150000</span><span class="p">,</span> <span class="mi">501160000</span><span class="p">,</span> <span class="mi">501170000</span><span class="p">,</span> <span class="mi">501170001</span><span class="p">,</span>
    <span class="mi">501180000</span><span class="p">,</span> <span class="mi">501190000</span><span class="p">,</span> <span class="mi">501190001</span><span class="p">,</span> <span class="mi">501200000</span><span class="p">,</span> <span class="mi">501210000</span><span class="p">,</span> <span class="mi">501210001</span><span class="p">,</span> <span class="mi">501220000</span><span class="p">,</span>
    <span class="mi">501230000</span><span class="p">,</span> <span class="mi">501230001</span><span class="p">,</span> <span class="mi">501240000</span><span class="p">,</span> <span class="mi">501250000</span><span class="p">,</span> <span class="mi">501250001</span><span class="p">,</span> <span class="mi">511210000</span><span class="p">,</span> <span class="mi">511220000</span><span class="p">,</span>
    <span class="mi">511220001</span><span class="p">,</span> <span class="mi">511230000</span><span class="p">,</span> <span class="mi">511240000</span><span class="p">,</span> <span class="mi">511240001</span><span class="p">,</span> <span class="mi">511250000</span><span class="p">,</span> <span class="mi">511260000</span><span class="p">,</span> <span class="mi">511260001</span><span class="p">,</span>
    <span class="mi">521200000</span><span class="p">,</span> <span class="mi">521210000</span><span class="p">,</span> <span class="mi">521210001</span><span class="p">,</span> <span class="mi">521220000</span><span class="p">,</span> <span class="mi">521230000</span><span class="p">,</span> <span class="mi">521230001</span><span class="p">,</span> <span class="mi">521240000</span><span class="p">,</span>
    <span class="mi">521250000</span><span class="p">,</span> <span class="mi">521250001</span><span class="p">,</span> <span class="mi">521260000</span><span class="p">,</span> <span class="mi">521270000</span><span class="p">,</span> <span class="mi">521270001</span><span class="p">,</span> <span class="mi">521280000</span><span class="p">,</span> <span class="mi">521290000</span><span class="p">,</span>
    <span class="mi">521290001</span><span class="p">,</span> <span class="mi">521300000</span><span class="p">,</span> <span class="mi">521310000</span><span class="p">,</span> <span class="mi">521310001</span><span class="p">,</span> <span class="mi">531250000</span><span class="p">,</span> <span class="mi">531260000</span><span class="p">,</span> <span class="mi">531270000</span><span class="p">,</span>
    <span class="mi">531280000</span><span class="p">,</span> <span class="mi">531290000</span><span class="p">,</span> <span class="mi">531300000</span><span class="p">,</span> <span class="mi">531300001</span><span class="p">,</span> <span class="mi">531310000</span><span class="p">,</span> <span class="mi">531320000</span><span class="p">,</span> <span class="mi">541240000</span><span class="p">,</span>
    <span class="mi">541250000</span><span class="p">,</span> <span class="mi">541250001</span><span class="p">,</span> <span class="mi">541260000</span><span class="p">,</span> <span class="mi">541270000</span><span class="p">,</span> <span class="mi">541270001</span><span class="p">,</span> <span class="mi">541280000</span><span class="p">,</span> <span class="mi">541290000</span><span class="p">,</span>
    <span class="mi">541290001</span><span class="p">,</span> <span class="mi">541300000</span><span class="p">,</span> <span class="mi">541310000</span><span class="p">,</span> <span class="mi">541310001</span><span class="p">,</span> <span class="mi">541320000</span><span class="p">,</span> <span class="mi">541330000</span><span class="p">,</span> <span class="mi">541330001</span><span class="p">,</span>
    <span class="mi">541340000</span><span class="p">,</span> <span class="mi">541350000</span><span class="p">,</span> <span class="mi">541350001</span><span class="p">,</span> <span class="mi">541360000</span><span class="p">,</span> <span class="mi">541370000</span><span class="p">,</span> <span class="mi">551310000</span><span class="p">,</span> <span class="mi">551320000</span><span class="p">,</span>
    <span class="mi">551330000</span><span class="p">,</span> <span class="mi">551340000</span><span class="p">,</span> <span class="mi">551340001</span><span class="p">,</span> <span class="mi">551350000</span><span class="p">,</span> <span class="mi">551360000</span><span class="p">,</span> <span class="mi">551370000</span><span class="p">,</span> <span class="mi">551380000</span><span class="p">,</span>
    <span class="mi">561300000</span><span class="p">,</span> <span class="mi">561310000</span><span class="p">,</span> <span class="mi">561310001</span><span class="p">,</span> <span class="mi">561320000</span><span class="p">,</span> <span class="mi">561330000</span><span class="p">,</span> <span class="mi">561330001</span><span class="p">,</span> <span class="mi">561340000</span><span class="p">,</span>
    <span class="mi">561350000</span><span class="p">,</span> <span class="mi">561350001</span><span class="p">,</span> <span class="mi">561360000</span><span class="p">,</span> <span class="mi">561360001</span><span class="p">,</span> <span class="mi">561370000</span><span class="p">,</span> <span class="mi">561370001</span><span class="p">,</span> <span class="mi">561380000</span><span class="p">,</span>
    <span class="mi">561390000</span><span class="p">,</span> <span class="mi">561400000</span><span class="p">,</span> <span class="mi">561410000</span><span class="p">,</span> <span class="mi">571370000</span><span class="p">,</span> <span class="mi">571380000</span><span class="p">,</span> <span class="mi">571390000</span><span class="p">,</span> <span class="mi">571400000</span><span class="p">,</span>
    <span class="mi">571410000</span><span class="p">,</span> <span class="mi">581360000</span><span class="p">,</span> <span class="mi">581370000</span><span class="p">,</span> <span class="mi">581370001</span><span class="p">,</span> <span class="mi">581380000</span><span class="p">,</span> <span class="mi">581390000</span><span class="p">,</span> <span class="mi">581390001</span><span class="p">,</span>
    <span class="mi">581400000</span><span class="p">,</span> <span class="mi">581410000</span><span class="p">,</span> <span class="mi">581420000</span><span class="p">,</span> <span class="mi">581430000</span><span class="p">,</span> <span class="mi">581440000</span><span class="p">,</span> <span class="mi">581450000</span><span class="p">,</span> <span class="mi">591410000</span><span class="p">,</span>
    <span class="mi">591420000</span><span class="p">,</span> <span class="mi">591420001</span><span class="p">,</span> <span class="mi">591430000</span><span class="p">,</span> <span class="mi">591440000</span><span class="p">,</span> <span class="mi">591450000</span><span class="p">,</span> <span class="mi">601420000</span><span class="p">,</span> <span class="mi">601430000</span><span class="p">,</span>
    <span class="mi">601440000</span><span class="p">,</span> <span class="mi">601450000</span><span class="p">,</span> <span class="mi">601460000</span><span class="p">,</span> <span class="mi">601470000</span><span class="p">,</span> <span class="mi">601480000</span><span class="p">,</span> <span class="mi">601490000</span><span class="p">,</span> <span class="mi">601500000</span><span class="p">,</span>
    <span class="mi">601510000</span><span class="p">,</span> <span class="mi">611450000</span><span class="p">,</span> <span class="mi">611470000</span><span class="p">,</span> <span class="mi">611480000</span><span class="p">,</span> <span class="mi">611480001</span><span class="p">,</span> <span class="mi">611490000</span><span class="p">,</span> <span class="mi">611500000</span><span class="p">,</span>
    <span class="mi">611510000</span><span class="p">,</span> <span class="mi">611520000</span><span class="p">,</span> <span class="mi">621440000</span><span class="p">,</span> <span class="mi">621450000</span><span class="p">,</span> <span class="mi">621460000</span><span class="p">,</span> <span class="mi">621470000</span><span class="p">,</span> <span class="mi">621480000</span><span class="p">,</span>
    <span class="mi">621490000</span><span class="p">,</span> <span class="mi">621500000</span><span class="p">,</span> <span class="mi">621510000</span><span class="p">,</span> <span class="mi">621520000</span><span class="p">,</span> <span class="mi">621530000</span><span class="p">,</span> <span class="mi">621540000</span><span class="p">,</span> <span class="mi">621550000</span><span class="p">,</span>
    <span class="mi">631510000</span><span class="p">,</span> <span class="mi">631520000</span><span class="p">,</span> <span class="mi">631520001</span><span class="p">,</span> <span class="mi">631530000</span><span class="p">,</span> <span class="mi">631540000</span><span class="p">,</span> <span class="mi">631550000</span><span class="p">,</span> <span class="mi">631560000</span><span class="p">,</span>
    <span class="mi">641520000</span><span class="p">,</span> <span class="mi">641530000</span><span class="p">,</span> <span class="mi">641540000</span><span class="p">,</span> <span class="mi">641550000</span><span class="p">,</span> <span class="mi">641550001</span><span class="p">,</span> <span class="mi">641560000</span><span class="p">,</span> <span class="mi">641570000</span><span class="p">,</span>
    <span class="mi">641580000</span><span class="p">,</span> <span class="mi">641590000</span><span class="p">,</span> <span class="mi">641600000</span><span class="p">,</span> <span class="mi">641610000</span><span class="p">,</span> <span class="mi">641620000</span><span class="p">,</span> <span class="mi">651570000</span><span class="p">,</span> <span class="mi">651590000</span><span class="p">,</span>
    <span class="mi">651600000</span><span class="p">,</span> <span class="mi">651610000</span><span class="p">,</span> <span class="mi">651620000</span><span class="p">,</span> <span class="mi">661560000</span><span class="p">,</span> <span class="mi">661570000</span><span class="p">,</span> <span class="mi">661580000</span><span class="p">,</span> <span class="mi">661590000</span><span class="p">,</span>
    <span class="mi">661600000</span><span class="p">,</span> <span class="mi">661610000</span><span class="p">,</span> <span class="mi">661620000</span><span class="p">,</span> <span class="mi">661630000</span><span class="p">,</span> <span class="mi">661640000</span><span class="p">,</span> <span class="mi">661650000</span><span class="p">,</span> <span class="mi">661650001</span><span class="p">,</span>
    <span class="mi">661660000</span><span class="p">,</span> <span class="mi">671630000</span><span class="p">,</span> <span class="mi">671650000</span><span class="p">,</span> <span class="mi">671660000</span><span class="p">,</span> <span class="mi">671660001</span><span class="p">,</span> <span class="mi">681620000</span><span class="p">,</span> <span class="mi">681630000</span><span class="p">,</span>
    <span class="mi">681640000</span><span class="p">,</span> <span class="mi">681650000</span><span class="p">,</span> <span class="mi">681660000</span><span class="p">,</span> <span class="mi">681670000</span><span class="p">,</span> <span class="mi">681670001</span><span class="p">,</span> <span class="mi">681680000</span><span class="p">,</span> <span class="mi">681690000</span><span class="p">,</span>
    <span class="mi">681700000</span><span class="p">,</span> <span class="mi">681710000</span><span class="p">,</span> <span class="mi">681720000</span><span class="p">,</span> <span class="mi">691690000</span><span class="p">,</span> <span class="mi">691700000</span><span class="p">,</span> <span class="mi">691700001</span><span class="p">,</span> <span class="mi">691710000</span><span class="p">,</span>
    <span class="mi">691720000</span><span class="p">,</span> <span class="mi">691730000</span><span class="p">,</span> <span class="mi">701680000</span><span class="p">,</span> <span class="mi">701690000</span><span class="p">,</span> <span class="mi">701700000</span><span class="p">,</span> <span class="mi">701710000</span><span class="p">,</span> <span class="mi">701720000</span><span class="p">,</span>
    <span class="mi">701730000</span><span class="p">,</span> <span class="mi">701740000</span><span class="p">,</span> <span class="mi">701750000</span><span class="p">,</span> <span class="mi">701750001</span><span class="p">,</span> <span class="mi">701760000</span><span class="p">,</span> <span class="mi">701770000</span><span class="p">,</span> <span class="mi">711750000</span><span class="p">,</span>
    <span class="mi">711760000</span><span class="p">,</span> <span class="mi">711760001</span><span class="p">,</span> <span class="mi">711770000</span><span class="p">,</span> <span class="mi">711770001</span><span class="p">,</span> <span class="mi">721740000</span><span class="p">,</span> <span class="mi">721750000</span><span class="p">,</span> <span class="mi">721760000</span><span class="p">,</span>
    <span class="mi">721770000</span><span class="p">,</span> <span class="mi">721780000</span><span class="p">,</span> <span class="mi">721780001</span><span class="p">,</span> <span class="mi">721790000</span><span class="p">,</span> <span class="mi">721790001</span><span class="p">,</span> <span class="mi">721800000</span><span class="p">,</span> <span class="mi">721800001</span><span class="p">,</span>
    <span class="mi">721810000</span><span class="p">,</span> <span class="mi">721820000</span><span class="p">,</span> <span class="mi">731800000</span><span class="p">,</span> <span class="mi">731810000</span><span class="p">,</span> <span class="mi">731820000</span><span class="p">,</span> <span class="mi">731820001</span><span class="p">,</span> <span class="mi">731830000</span><span class="p">,</span>
    <span class="mi">741800000</span><span class="p">,</span> <span class="mi">741810000</span><span class="p">,</span> <span class="mi">741820000</span><span class="p">,</span> <span class="mi">741830000</span><span class="p">,</span> <span class="mi">741830001</span><span class="p">,</span> <span class="mi">741840000</span><span class="p">,</span> <span class="mi">741850000</span><span class="p">,</span>
    <span class="mi">741850001</span><span class="p">,</span> <span class="mi">741860000</span><span class="p">,</span> <span class="mi">741870000</span><span class="p">,</span> <span class="mi">741880000</span><span class="p">,</span> <span class="mi">741890000</span><span class="p">,</span> <span class="mi">751850000</span><span class="p">,</span> <span class="mi">751860000</span><span class="p">,</span>
    <span class="mi">751870000</span><span class="p">,</span> <span class="mi">751880000</span><span class="p">,</span> <span class="mi">751880001</span><span class="p">,</span> <span class="mi">751890000</span><span class="p">,</span> <span class="mi">761840000</span><span class="p">,</span> <span class="mi">761850000</span><span class="p">,</span> <span class="mi">761860000</span><span class="p">,</span>
    <span class="mi">761870000</span><span class="p">,</span> <span class="mi">761880000</span><span class="p">,</span> <span class="mi">761890000</span><span class="p">,</span> <span class="mi">761900000</span><span class="p">,</span> <span class="mi">761900001</span><span class="p">,</span> <span class="mi">761910000</span><span class="p">,</span> <span class="mi">761910001</span><span class="p">,</span>
    <span class="mi">761920000</span><span class="p">,</span> <span class="mi">761930000</span><span class="p">,</span> <span class="mi">761940000</span><span class="p">,</span> <span class="mi">771910000</span><span class="p">,</span> <span class="mi">771920000</span><span class="p">,</span> <span class="mi">771920001</span><span class="p">,</span> <span class="mi">771930000</span><span class="p">,</span>
    <span class="mi">771940000</span><span class="p">,</span> <span class="mi">771940001</span><span class="p">,</span> <span class="mi">781900000</span><span class="p">,</span> <span class="mi">781910000</span><span class="p">,</span> <span class="mi">781920000</span><span class="p">,</span> <span class="mi">781930000</span><span class="p">,</span> <span class="mi">781930001</span><span class="p">,</span>
    <span class="mi">781940000</span><span class="p">,</span> <span class="mi">781950000</span><span class="p">,</span> <span class="mi">781950001</span><span class="p">,</span> <span class="mi">781960000</span><span class="p">,</span> <span class="mi">781970000</span><span class="p">,</span> <span class="mi">781970001</span><span class="p">,</span> <span class="mi">781980000</span><span class="p">,</span>
    <span class="mi">781990000</span><span class="p">,</span> <span class="mi">781990001</span><span class="p">,</span> <span class="mi">791970000</span><span class="p">,</span> <span class="mi">791980000</span><span class="p">,</span> <span class="mi">791990000</span><span class="p">,</span> <span class="mi">792000000</span><span class="p">,</span> <span class="mi">801960000</span><span class="p">,</span>
    <span class="mi">801970000</span><span class="p">,</span> <span class="mi">801970001</span><span class="p">,</span> <span class="mi">801980000</span><span class="p">,</span> <span class="mi">801990000</span><span class="p">,</span> <span class="mi">801990001</span><span class="p">,</span> <span class="mi">802000000</span><span class="p">,</span> <span class="mi">802010000</span><span class="p">,</span>
    <span class="mi">802020000</span><span class="p">,</span> <span class="mi">802030000</span><span class="p">,</span> <span class="mi">802040000</span><span class="p">,</span> <span class="mi">802050000</span><span class="p">,</span> <span class="mi">812030000</span><span class="p">,</span> <span class="mi">812040000</span><span class="p">,</span> <span class="mi">812050000</span><span class="p">,</span>
    <span class="mi">812060000</span><span class="p">,</span> <span class="mi">822040000</span><span class="p">,</span> <span class="mi">822050000</span><span class="p">,</span> <span class="mi">822060000</span><span class="p">,</span> <span class="mi">822070000</span><span class="p">,</span> <span class="mi">822080000</span><span class="p">,</span> <span class="mi">822090000</span><span class="p">,</span>
    <span class="mi">832080000</span><span class="p">,</span> <span class="mi">832090000</span><span class="p">,</span> <span class="mi">832100000</span><span class="p">,</span> <span class="mi">832100001</span><span class="p">,</span> <span class="mi">832110000</span><span class="p">,</span> <span class="mi">842100000</span><span class="p">,</span> <span class="mi">842110000</span><span class="p">,</span>
    <span class="mi">842110001</span><span class="p">])</span>
<span class="sd">&quot;&quot;&quot;Set of activation product nuclides in id form.&quot;&quot;&quot;</span>

<span class="n">ACTINIDE_AND_DAUGHTER_NUCS</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">([</span>
    <span class="mi">20040000</span><span class="p">,</span>  <span class="mi">812060000</span><span class="p">,</span> <span class="mi">812070000</span><span class="p">,</span> <span class="mi">812080000</span><span class="p">,</span> <span class="mi">812090000</span><span class="p">,</span> <span class="mi">822060000</span><span class="p">,</span>
    <span class="mi">822070000</span><span class="p">,</span> <span class="mi">822080000</span><span class="p">,</span> <span class="mi">822090000</span><span class="p">,</span> <span class="mi">822100000</span><span class="p">,</span> <span class="mi">822110000</span><span class="p">,</span> <span class="mi">822120000</span><span class="p">,</span> <span class="mi">822140000</span><span class="p">,</span>
    <span class="mi">832080000</span><span class="p">,</span> <span class="mi">832090000</span><span class="p">,</span> <span class="mi">832100000</span><span class="p">,</span> <span class="mi">832100001</span><span class="p">,</span> <span class="mi">832110000</span><span class="p">,</span> <span class="mi">832120000</span><span class="p">,</span> <span class="mi">832130000</span><span class="p">,</span>
    <span class="mi">832140000</span><span class="p">,</span> <span class="mi">842100000</span><span class="p">,</span> <span class="mi">842110000</span><span class="p">,</span> <span class="mi">842110001</span><span class="p">,</span> <span class="mi">842120000</span><span class="p">,</span> <span class="mi">842130000</span><span class="p">,</span> <span class="mi">842140000</span><span class="p">,</span>
    <span class="mi">842150000</span><span class="p">,</span> <span class="mi">842160000</span><span class="p">,</span> <span class="mi">842180000</span><span class="p">,</span> <span class="mi">852170000</span><span class="p">,</span> <span class="mi">862180000</span><span class="p">,</span> <span class="mi">862190000</span><span class="p">,</span> <span class="mi">862200000</span><span class="p">,</span>
    <span class="mi">862220000</span><span class="p">,</span> <span class="mi">872210000</span><span class="p">,</span> <span class="mi">872230000</span><span class="p">,</span> <span class="mi">882220000</span><span class="p">,</span> <span class="mi">882230000</span><span class="p">,</span> <span class="mi">882240000</span><span class="p">,</span> <span class="mi">882250000</span><span class="p">,</span>
    <span class="mi">882260000</span><span class="p">,</span> <span class="mi">882280000</span><span class="p">,</span> <span class="mi">892250000</span><span class="p">,</span> <span class="mi">892270000</span><span class="p">,</span> <span class="mi">892280000</span><span class="p">,</span> <span class="mi">902260000</span><span class="p">,</span> <span class="mi">902270000</span><span class="p">,</span>
    <span class="mi">902280000</span><span class="p">,</span> <span class="mi">902290000</span><span class="p">,</span> <span class="mi">902300000</span><span class="p">,</span> <span class="mi">902310000</span><span class="p">,</span> <span class="mi">902320000</span><span class="p">,</span> <span class="mi">902330000</span><span class="p">,</span> <span class="mi">902340000</span><span class="p">,</span>
    <span class="mi">912310000</span><span class="p">,</span> <span class="mi">912320000</span><span class="p">,</span> <span class="mi">912330000</span><span class="p">,</span> <span class="mi">912340000</span><span class="p">,</span> <span class="mi">912340001</span><span class="p">,</span> <span class="mi">912350000</span><span class="p">,</span> <span class="mi">922300000</span><span class="p">,</span>
    <span class="mi">922310000</span><span class="p">,</span> <span class="mi">922320000</span><span class="p">,</span> <span class="mi">922330000</span><span class="p">,</span> <span class="mi">922340000</span><span class="p">,</span> <span class="mi">922350000</span><span class="p">,</span> <span class="mi">922360000</span><span class="p">,</span> <span class="mi">922370000</span><span class="p">,</span>
    <span class="mi">922380000</span><span class="p">,</span> <span class="mi">922390000</span><span class="p">,</span> <span class="mi">922400000</span><span class="p">,</span> <span class="mi">922410000</span><span class="p">,</span> <span class="mi">932350000</span><span class="p">,</span> <span class="mi">932360000</span><span class="p">,</span> <span class="mi">932360001</span><span class="p">,</span>
    <span class="mi">932370000</span><span class="p">,</span> <span class="mi">932380000</span><span class="p">,</span> <span class="mi">932390000</span><span class="p">,</span> <span class="mi">932400000</span><span class="p">,</span> <span class="mi">932400001</span><span class="p">,</span> <span class="mi">932410000</span><span class="p">,</span> <span class="mi">942360000</span><span class="p">,</span>
    <span class="mi">942370000</span><span class="p">,</span> <span class="mi">942380000</span><span class="p">,</span> <span class="mi">942390000</span><span class="p">,</span> <span class="mi">942400000</span><span class="p">,</span> <span class="mi">942410000</span><span class="p">,</span> <span class="mi">942420000</span><span class="p">,</span> <span class="mi">942430000</span><span class="p">,</span>
    <span class="mi">942440000</span><span class="p">,</span> <span class="mi">942450000</span><span class="p">,</span> <span class="mi">942460000</span><span class="p">,</span> <span class="mi">952390000</span><span class="p">,</span> <span class="mi">952400000</span><span class="p">,</span> <span class="mi">952410000</span><span class="p">,</span> <span class="mi">952420000</span><span class="p">,</span>
    <span class="mi">952420001</span><span class="p">,</span> <span class="mi">952430000</span><span class="p">,</span> <span class="mi">952440000</span><span class="p">,</span> <span class="mi">952440001</span><span class="p">,</span> <span class="mi">952450000</span><span class="p">,</span> <span class="mi">952460000</span><span class="p">,</span> <span class="mi">962410000</span><span class="p">,</span>
    <span class="mi">962420000</span><span class="p">,</span> <span class="mi">962430000</span><span class="p">,</span> <span class="mi">962440000</span><span class="p">,</span> <span class="mi">962450000</span><span class="p">,</span> <span class="mi">962460000</span><span class="p">,</span> <span class="mi">962470000</span><span class="p">,</span> <span class="mi">962480000</span><span class="p">,</span>
    <span class="mi">962490000</span><span class="p">,</span> <span class="mi">962500000</span><span class="p">,</span> <span class="mi">962510000</span><span class="p">,</span> <span class="mi">972490000</span><span class="p">,</span> <span class="mi">972500000</span><span class="p">,</span> <span class="mi">972510000</span><span class="p">,</span> <span class="mi">982490000</span><span class="p">,</span>
    <span class="mi">982500000</span><span class="p">,</span> <span class="mi">982510000</span><span class="p">,</span> <span class="mi">982520000</span><span class="p">,</span> <span class="mi">982530000</span><span class="p">,</span> <span class="mi">982540000</span><span class="p">,</span> <span class="mi">982550000</span><span class="p">,</span> <span class="mi">992530000</span><span class="p">,</span>
    <span class="mi">992540000</span><span class="p">,</span> <span class="mi">992540001</span><span class="p">,</span> <span class="mi">992550000</span><span class="p">])</span>
<span class="sd">&quot;&quot;&quot;Set of acinide &amp; daughter nuclides in id form.&quot;&quot;&quot;</span>

<span class="n">FISSION_PRODUCT_NUCS</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">([</span>
    <span class="mi">10030000</span><span class="p">,</span>  <span class="mi">30060000</span><span class="p">,</span>  <span class="mi">30070000</span><span class="p">,</span>  <span class="mi">40090000</span><span class="p">,</span>  <span class="mi">40100000</span><span class="p">,</span>  <span class="mi">60140000</span><span class="p">,</span>  <span class="mi">270720000</span><span class="p">,</span>
    <span class="mi">270730000</span><span class="p">,</span> <span class="mi">270740000</span><span class="p">,</span> <span class="mi">270750000</span><span class="p">,</span> <span class="mi">280660000</span><span class="p">,</span> <span class="mi">280720000</span><span class="p">,</span> <span class="mi">280730000</span><span class="p">,</span> <span class="mi">280740000</span><span class="p">,</span>
    <span class="mi">280750000</span><span class="p">,</span> <span class="mi">280760000</span><span class="p">,</span> <span class="mi">280770000</span><span class="p">,</span> <span class="mi">280780000</span><span class="p">,</span> <span class="mi">290660000</span><span class="p">,</span> <span class="mi">290670000</span><span class="p">,</span> <span class="mi">290720000</span><span class="p">,</span>
    <span class="mi">290730000</span><span class="p">,</span> <span class="mi">290740000</span><span class="p">,</span> <span class="mi">290750000</span><span class="p">,</span> <span class="mi">290760000</span><span class="p">,</span> <span class="mi">290770000</span><span class="p">,</span> <span class="mi">290780000</span><span class="p">,</span> <span class="mi">290790000</span><span class="p">,</span>
    <span class="mi">290800000</span><span class="p">,</span> <span class="mi">290810000</span><span class="p">,</span> <span class="mi">300660000</span><span class="p">,</span> <span class="mi">300670000</span><span class="p">,</span> <span class="mi">300680000</span><span class="p">,</span> <span class="mi">300690000</span><span class="p">,</span> <span class="mi">300690001</span><span class="p">,</span>
    <span class="mi">300700000</span><span class="p">,</span> <span class="mi">300710000</span><span class="p">,</span> <span class="mi">300710001</span><span class="p">,</span> <span class="mi">300720000</span><span class="p">,</span> <span class="mi">300730000</span><span class="p">,</span> <span class="mi">300740000</span><span class="p">,</span> <span class="mi">300750000</span><span class="p">,</span>
    <span class="mi">300760000</span><span class="p">,</span> <span class="mi">300770000</span><span class="p">,</span> <span class="mi">300780000</span><span class="p">,</span> <span class="mi">300790000</span><span class="p">,</span> <span class="mi">300800000</span><span class="p">,</span> <span class="mi">300810000</span><span class="p">,</span> <span class="mi">300820000</span><span class="p">,</span>
    <span class="mi">300830000</span><span class="p">,</span> <span class="mi">310690000</span><span class="p">,</span> <span class="mi">310700000</span><span class="p">,</span> <span class="mi">310710000</span><span class="p">,</span> <span class="mi">310720000</span><span class="p">,</span> <span class="mi">310730000</span><span class="p">,</span> <span class="mi">310740000</span><span class="p">,</span>
    <span class="mi">310750000</span><span class="p">,</span> <span class="mi">310760000</span><span class="p">,</span> <span class="mi">310770000</span><span class="p">,</span> <span class="mi">310780000</span><span class="p">,</span> <span class="mi">310790000</span><span class="p">,</span> <span class="mi">310800000</span><span class="p">,</span> <span class="mi">310810000</span><span class="p">,</span>
    <span class="mi">310820000</span><span class="p">,</span> <span class="mi">310830000</span><span class="p">,</span> <span class="mi">310840000</span><span class="p">,</span> <span class="mi">310850000</span><span class="p">,</span> <span class="mi">320700000</span><span class="p">,</span> <span class="mi">320710000</span><span class="p">,</span> <span class="mi">320710001</span><span class="p">,</span>
    <span class="mi">320720000</span><span class="p">,</span> <span class="mi">320730000</span><span class="p">,</span> <span class="mi">320730001</span><span class="p">,</span> <span class="mi">320740000</span><span class="p">,</span> <span class="mi">320750000</span><span class="p">,</span> <span class="mi">320750001</span><span class="p">,</span> <span class="mi">320760000</span><span class="p">,</span>
    <span class="mi">320770000</span><span class="p">,</span> <span class="mi">320770001</span><span class="p">,</span> <span class="mi">320780000</span><span class="p">,</span> <span class="mi">320790000</span><span class="p">,</span> <span class="mi">320800000</span><span class="p">,</span> <span class="mi">320810000</span><span class="p">,</span> <span class="mi">320820000</span><span class="p">,</span>
    <span class="mi">320830000</span><span class="p">,</span> <span class="mi">320840000</span><span class="p">,</span> <span class="mi">320850000</span><span class="p">,</span> <span class="mi">320860000</span><span class="p">,</span> <span class="mi">320870000</span><span class="p">,</span> <span class="mi">320880000</span><span class="p">,</span> <span class="mi">330750000</span><span class="p">,</span>
    <span class="mi">330760000</span><span class="p">,</span> <span class="mi">330770000</span><span class="p">,</span> <span class="mi">330780000</span><span class="p">,</span> <span class="mi">330790000</span><span class="p">,</span> <span class="mi">330800000</span><span class="p">,</span> <span class="mi">330810000</span><span class="p">,</span> <span class="mi">330820000</span><span class="p">,</span>
    <span class="mi">330820001</span><span class="p">,</span> <span class="mi">330830000</span><span class="p">,</span> <span class="mi">330840000</span><span class="p">,</span> <span class="mi">330850000</span><span class="p">,</span> <span class="mi">330860000</span><span class="p">,</span> <span class="mi">330870000</span><span class="p">,</span> <span class="mi">330880000</span><span class="p">,</span>
    <span class="mi">330890000</span><span class="p">,</span> <span class="mi">330900000</span><span class="p">,</span> <span class="mi">340760000</span><span class="p">,</span> <span class="mi">340770000</span><span class="p">,</span> <span class="mi">340770001</span><span class="p">,</span> <span class="mi">340780000</span><span class="p">,</span> <span class="mi">340790000</span><span class="p">,</span>
    <span class="mi">340790001</span><span class="p">,</span> <span class="mi">340800000</span><span class="p">,</span> <span class="mi">340810000</span><span class="p">,</span> <span class="mi">340810001</span><span class="p">,</span> <span class="mi">340820000</span><span class="p">,</span> <span class="mi">340830000</span><span class="p">,</span> <span class="mi">340830001</span><span class="p">,</span>
    <span class="mi">340840000</span><span class="p">,</span> <span class="mi">340850000</span><span class="p">,</span> <span class="mi">340850001</span><span class="p">,</span> <span class="mi">340860000</span><span class="p">,</span> <span class="mi">340870000</span><span class="p">,</span> <span class="mi">340880000</span><span class="p">,</span> <span class="mi">340890000</span><span class="p">,</span>
    <span class="mi">340900000</span><span class="p">,</span> <span class="mi">340910000</span><span class="p">,</span> <span class="mi">340920000</span><span class="p">,</span> <span class="mi">340930000</span><span class="p">,</span> <span class="mi">350790000</span><span class="p">,</span> <span class="mi">350790001</span><span class="p">,</span> <span class="mi">350800000</span><span class="p">,</span>
    <span class="mi">350800001</span><span class="p">,</span> <span class="mi">350810000</span><span class="p">,</span> <span class="mi">350820000</span><span class="p">,</span> <span class="mi">350820001</span><span class="p">,</span> <span class="mi">350830000</span><span class="p">,</span> <span class="mi">350840000</span><span class="p">,</span> <span class="mi">350840001</span><span class="p">,</span>
    <span class="mi">350850000</span><span class="p">,</span> <span class="mi">350860000</span><span class="p">,</span> <span class="mi">350860001</span><span class="p">,</span> <span class="mi">350870000</span><span class="p">,</span> <span class="mi">350880000</span><span class="p">,</span> <span class="mi">350890000</span><span class="p">,</span> <span class="mi">350900000</span><span class="p">,</span>
    <span class="mi">350910000</span><span class="p">,</span> <span class="mi">350920000</span><span class="p">,</span> <span class="mi">350930000</span><span class="p">,</span> <span class="mi">350940000</span><span class="p">,</span> <span class="mi">350950000</span><span class="p">,</span> <span class="mi">350960000</span><span class="p">,</span> <span class="mi">360790000</span><span class="p">,</span>
    <span class="mi">360800000</span><span class="p">,</span> <span class="mi">360810000</span><span class="p">,</span> <span class="mi">360810001</span><span class="p">,</span> <span class="mi">360820000</span><span class="p">,</span> <span class="mi">360830000</span><span class="p">,</span> <span class="mi">360830001</span><span class="p">,</span> <span class="mi">360840000</span><span class="p">,</span>
    <span class="mi">360850000</span><span class="p">,</span> <span class="mi">360850001</span><span class="p">,</span> <span class="mi">360860000</span><span class="p">,</span> <span class="mi">360870000</span><span class="p">,</span> <span class="mi">360880000</span><span class="p">,</span> <span class="mi">360890000</span><span class="p">,</span> <span class="mi">360900000</span><span class="p">,</span>
    <span class="mi">360910000</span><span class="p">,</span> <span class="mi">360920000</span><span class="p">,</span> <span class="mi">360930000</span><span class="p">,</span> <span class="mi">360940000</span><span class="p">,</span> <span class="mi">360950000</span><span class="p">,</span> <span class="mi">360960000</span><span class="p">,</span> <span class="mi">360970000</span><span class="p">,</span>
    <span class="mi">360980000</span><span class="p">,</span> <span class="mi">370850000</span><span class="p">,</span> <span class="mi">370860000</span><span class="p">,</span> <span class="mi">370860001</span><span class="p">,</span> <span class="mi">370870000</span><span class="p">,</span> <span class="mi">370880000</span><span class="p">,</span> <span class="mi">370890000</span><span class="p">,</span>
    <span class="mi">370900000</span><span class="p">,</span> <span class="mi">370900001</span><span class="p">,</span> <span class="mi">370910000</span><span class="p">,</span> <span class="mi">370920000</span><span class="p">,</span> <span class="mi">370930000</span><span class="p">,</span> <span class="mi">370940000</span><span class="p">,</span> <span class="mi">370950000</span><span class="p">,</span>
    <span class="mi">370960000</span><span class="p">,</span> <span class="mi">370970000</span><span class="p">,</span> <span class="mi">370980000</span><span class="p">,</span> <span class="mi">370990000</span><span class="p">,</span> <span class="mi">371000000</span><span class="p">,</span> <span class="mi">371010000</span><span class="p">,</span> <span class="mi">380860000</span><span class="p">,</span>
    <span class="mi">380870000</span><span class="p">,</span> <span class="mi">380870001</span><span class="p">,</span> <span class="mi">380880000</span><span class="p">,</span> <span class="mi">380890000</span><span class="p">,</span> <span class="mi">380900000</span><span class="p">,</span> <span class="mi">380910000</span><span class="p">,</span> <span class="mi">380920000</span><span class="p">,</span>
    <span class="mi">380930000</span><span class="p">,</span> <span class="mi">380940000</span><span class="p">,</span> <span class="mi">380950000</span><span class="p">,</span> <span class="mi">380960000</span><span class="p">,</span> <span class="mi">380970000</span><span class="p">,</span> <span class="mi">380980000</span><span class="p">,</span> <span class="mi">380990000</span><span class="p">,</span>
    <span class="mi">381000000</span><span class="p">,</span> <span class="mi">381010000</span><span class="p">,</span> <span class="mi">381020000</span><span class="p">,</span> <span class="mi">381030000</span><span class="p">,</span> <span class="mi">381040000</span><span class="p">,</span> <span class="mi">390890000</span><span class="p">,</span> <span class="mi">390890001</span><span class="p">,</span>
    <span class="mi">390900000</span><span class="p">,</span> <span class="mi">390900001</span><span class="p">,</span> <span class="mi">390910000</span><span class="p">,</span> <span class="mi">390910001</span><span class="p">,</span> <span class="mi">390920000</span><span class="p">,</span> <span class="mi">390930000</span><span class="p">,</span> <span class="mi">390940000</span><span class="p">,</span>
    <span class="mi">390950000</span><span class="p">,</span> <span class="mi">390960000</span><span class="p">,</span> <span class="mi">390970000</span><span class="p">,</span> <span class="mi">390980000</span><span class="p">,</span> <span class="mi">390990000</span><span class="p">,</span> <span class="mi">391000000</span><span class="p">,</span> <span class="mi">391010000</span><span class="p">,</span>
    <span class="mi">391020000</span><span class="p">,</span> <span class="mi">391030000</span><span class="p">,</span> <span class="mi">391040000</span><span class="p">,</span> <span class="mi">391050000</span><span class="p">,</span> <span class="mi">391060000</span><span class="p">,</span> <span class="mi">391070000</span><span class="p">,</span> <span class="mi">400900000</span><span class="p">,</span>
    <span class="mi">400900001</span><span class="p">,</span> <span class="mi">400910000</span><span class="p">,</span> <span class="mi">400920000</span><span class="p">,</span> <span class="mi">400930000</span><span class="p">,</span> <span class="mi">400940000</span><span class="p">,</span> <span class="mi">400950000</span><span class="p">,</span> <span class="mi">400960000</span><span class="p">,</span>
    <span class="mi">400970000</span><span class="p">,</span> <span class="mi">400980000</span><span class="p">,</span> <span class="mi">400990000</span><span class="p">,</span> <span class="mi">401000000</span><span class="p">,</span> <span class="mi">401010000</span><span class="p">,</span> <span class="mi">401020000</span><span class="p">,</span> <span class="mi">401030000</span><span class="p">,</span>
    <span class="mi">401040000</span><span class="p">,</span> <span class="mi">401050000</span><span class="p">,</span> <span class="mi">401060000</span><span class="p">,</span> <span class="mi">401070000</span><span class="p">,</span> <span class="mi">401080000</span><span class="p">,</span> <span class="mi">401090000</span><span class="p">,</span> <span class="mi">410910000</span><span class="p">,</span>
    <span class="mi">410920000</span><span class="p">,</span> <span class="mi">410930000</span><span class="p">,</span> <span class="mi">410930001</span><span class="p">,</span> <span class="mi">410940000</span><span class="p">,</span> <span class="mi">410940001</span><span class="p">,</span> <span class="mi">410950000</span><span class="p">,</span> <span class="mi">410950001</span><span class="p">,</span>
    <span class="mi">410960000</span><span class="p">,</span> <span class="mi">410970000</span><span class="p">,</span> <span class="mi">410970001</span><span class="p">,</span> <span class="mi">410980000</span><span class="p">,</span> <span class="mi">410980001</span><span class="p">,</span> <span class="mi">410990000</span><span class="p">,</span> <span class="mi">410990001</span><span class="p">,</span>
    <span class="mi">411000000</span><span class="p">,</span> <span class="mi">411000001</span><span class="p">,</span> <span class="mi">411010000</span><span class="p">,</span> <span class="mi">411020000</span><span class="p">,</span> <span class="mi">411030000</span><span class="p">,</span> <span class="mi">411040000</span><span class="p">,</span> <span class="mi">411050000</span><span class="p">,</span>
    <span class="mi">411060000</span><span class="p">,</span> <span class="mi">411070000</span><span class="p">,</span> <span class="mi">411080000</span><span class="p">,</span> <span class="mi">411090000</span><span class="p">,</span> <span class="mi">411100000</span><span class="p">,</span> <span class="mi">411110000</span><span class="p">,</span> <span class="mi">411120000</span><span class="p">,</span>
    <span class="mi">420950000</span><span class="p">,</span> <span class="mi">420960000</span><span class="p">,</span> <span class="mi">420970000</span><span class="p">,</span> <span class="mi">420980000</span><span class="p">,</span> <span class="mi">420990000</span><span class="p">,</span> <span class="mi">421000000</span><span class="p">,</span> <span class="mi">421010000</span><span class="p">,</span>
    <span class="mi">421020000</span><span class="p">,</span> <span class="mi">421030000</span><span class="p">,</span> <span class="mi">421040000</span><span class="p">,</span> <span class="mi">421050000</span><span class="p">,</span> <span class="mi">421060000</span><span class="p">,</span> <span class="mi">421070000</span><span class="p">,</span> <span class="mi">421080000</span><span class="p">,</span>
    <span class="mi">421090000</span><span class="p">,</span> <span class="mi">421100000</span><span class="p">,</span> <span class="mi">421110000</span><span class="p">,</span> <span class="mi">421120000</span><span class="p">,</span> <span class="mi">421130000</span><span class="p">,</span> <span class="mi">421140000</span><span class="p">,</span> <span class="mi">421150000</span><span class="p">,</span>
    <span class="mi">430980000</span><span class="p">,</span> <span class="mi">430990000</span><span class="p">,</span> <span class="mi">430990001</span><span class="p">,</span> <span class="mi">431000000</span><span class="p">,</span> <span class="mi">431010000</span><span class="p">,</span> <span class="mi">431020000</span><span class="p">,</span> <span class="mi">431020001</span><span class="p">,</span>
    <span class="mi">431030000</span><span class="p">,</span> <span class="mi">431040000</span><span class="p">,</span> <span class="mi">431050000</span><span class="p">,</span> <span class="mi">431060000</span><span class="p">,</span> <span class="mi">431070000</span><span class="p">,</span> <span class="mi">431080000</span><span class="p">,</span> <span class="mi">431090000</span><span class="p">,</span>
    <span class="mi">431100000</span><span class="p">,</span> <span class="mi">431110000</span><span class="p">,</span> <span class="mi">431120000</span><span class="p">,</span> <span class="mi">431130000</span><span class="p">,</span> <span class="mi">431140000</span><span class="p">,</span> <span class="mi">431150000</span><span class="p">,</span> <span class="mi">431160000</span><span class="p">,</span>
    <span class="mi">431170000</span><span class="p">,</span> <span class="mi">431180000</span><span class="p">,</span> <span class="mi">440990000</span><span class="p">,</span> <span class="mi">441000000</span><span class="p">,</span> <span class="mi">441010000</span><span class="p">,</span> <span class="mi">441020000</span><span class="p">,</span> <span class="mi">441030000</span><span class="p">,</span>
    <span class="mi">441040000</span><span class="p">,</span> <span class="mi">441050000</span><span class="p">,</span> <span class="mi">441060000</span><span class="p">,</span> <span class="mi">441070000</span><span class="p">,</span> <span class="mi">441080000</span><span class="p">,</span> <span class="mi">441090000</span><span class="p">,</span> <span class="mi">441100000</span><span class="p">,</span>
    <span class="mi">441110000</span><span class="p">,</span> <span class="mi">441120000</span><span class="p">,</span> <span class="mi">441130000</span><span class="p">,</span> <span class="mi">441140000</span><span class="p">,</span> <span class="mi">441150000</span><span class="p">,</span> <span class="mi">441160000</span><span class="p">,</span> <span class="mi">441170000</span><span class="p">,</span>
    <span class="mi">441180000</span><span class="p">,</span> <span class="mi">441190000</span><span class="p">,</span> <span class="mi">441200000</span><span class="p">,</span> <span class="mi">451020000</span><span class="p">,</span> <span class="mi">451030000</span><span class="p">,</span> <span class="mi">451030001</span><span class="p">,</span> <span class="mi">451040000</span><span class="p">,</span>
    <span class="mi">451040001</span><span class="p">,</span> <span class="mi">451050000</span><span class="p">,</span> <span class="mi">451050001</span><span class="p">,</span> <span class="mi">451060000</span><span class="p">,</span> <span class="mi">451060001</span><span class="p">,</span> <span class="mi">451070000</span><span class="p">,</span> <span class="mi">451080000</span><span class="p">,</span>
    <span class="mi">451080001</span><span class="p">,</span> <span class="mi">451090000</span><span class="p">,</span> <span class="mi">451090001</span><span class="p">,</span> <span class="mi">451100000</span><span class="p">,</span> <span class="mi">451100001</span><span class="p">,</span> <span class="mi">451110000</span><span class="p">,</span> <span class="mi">451120000</span><span class="p">,</span>
    <span class="mi">451130000</span><span class="p">,</span> <span class="mi">451140000</span><span class="p">,</span> <span class="mi">451150000</span><span class="p">,</span> <span class="mi">451160000</span><span class="p">,</span> <span class="mi">451170000</span><span class="p">,</span> <span class="mi">451180000</span><span class="p">,</span> <span class="mi">451190000</span><span class="p">,</span>
    <span class="mi">451200000</span><span class="p">,</span> <span class="mi">451210000</span><span class="p">,</span> <span class="mi">451220000</span><span class="p">,</span> <span class="mi">451230000</span><span class="p">,</span> <span class="mi">461020000</span><span class="p">,</span> <span class="mi">461040000</span><span class="p">,</span> <span class="mi">461050000</span><span class="p">,</span>
    <span class="mi">461060000</span><span class="p">,</span> <span class="mi">461070000</span><span class="p">,</span> <span class="mi">461070001</span><span class="p">,</span> <span class="mi">461080000</span><span class="p">,</span> <span class="mi">461090000</span><span class="p">,</span> <span class="mi">461090001</span><span class="p">,</span> <span class="mi">461100000</span><span class="p">,</span>
    <span class="mi">461110000</span><span class="p">,</span> <span class="mi">461110001</span><span class="p">,</span> <span class="mi">461120000</span><span class="p">,</span> <span class="mi">461130000</span><span class="p">,</span> <span class="mi">461140000</span><span class="p">,</span> <span class="mi">461150000</span><span class="p">,</span> <span class="mi">461160000</span><span class="p">,</span>
    <span class="mi">461170000</span><span class="p">,</span> <span class="mi">461180000</span><span class="p">,</span> <span class="mi">461190000</span><span class="p">,</span> <span class="mi">461200000</span><span class="p">,</span> <span class="mi">461210000</span><span class="p">,</span> <span class="mi">461220000</span><span class="p">,</span> <span class="mi">461230000</span><span class="p">,</span>
    <span class="mi">461240000</span><span class="p">,</span> <span class="mi">461250000</span><span class="p">,</span> <span class="mi">461260000</span><span class="p">,</span> <span class="mi">471060000</span><span class="p">,</span> <span class="mi">471070000</span><span class="p">,</span> <span class="mi">471080000</span><span class="p">,</span> <span class="mi">471080001</span><span class="p">,</span>
    <span class="mi">471090000</span><span class="p">,</span> <span class="mi">471090001</span><span class="p">,</span> <span class="mi">471100000</span><span class="p">,</span> <span class="mi">471100001</span><span class="p">,</span> <span class="mi">471110000</span><span class="p">,</span> <span class="mi">471110001</span><span class="p">,</span> <span class="mi">471120000</span><span class="p">,</span>
    <span class="mi">471130000</span><span class="p">,</span> <span class="mi">471130001</span><span class="p">,</span> <span class="mi">471140000</span><span class="p">,</span> <span class="mi">471150000</span><span class="p">,</span> <span class="mi">471150001</span><span class="p">,</span> <span class="mi">471160000</span><span class="p">,</span> <span class="mi">471160001</span><span class="p">,</span>
    <span class="mi">471170000</span><span class="p">,</span> <span class="mi">471170001</span><span class="p">,</span> <span class="mi">471180000</span><span class="p">,</span> <span class="mi">471180001</span><span class="p">,</span> <span class="mi">471190000</span><span class="p">,</span> <span class="mi">471200000</span><span class="p">,</span> <span class="mi">471210000</span><span class="p">,</span>
    <span class="mi">471220000</span><span class="p">,</span> <span class="mi">471230000</span><span class="p">,</span> <span class="mi">471240000</span><span class="p">,</span> <span class="mi">471250000</span><span class="p">,</span> <span class="mi">471260000</span><span class="p">,</span> <span class="mi">471270000</span><span class="p">,</span> <span class="mi">471280000</span><span class="p">,</span>
    <span class="mi">481080000</span><span class="p">,</span> <span class="mi">481090000</span><span class="p">,</span> <span class="mi">481100000</span><span class="p">,</span> <span class="mi">481110000</span><span class="p">,</span> <span class="mi">481110001</span><span class="p">,</span> <span class="mi">481120000</span><span class="p">,</span> <span class="mi">481130000</span><span class="p">,</span>
    <span class="mi">481130001</span><span class="p">,</span> <span class="mi">481140000</span><span class="p">,</span> <span class="mi">481150000</span><span class="p">,</span> <span class="mi">481150001</span><span class="p">,</span> <span class="mi">481160000</span><span class="p">,</span> <span class="mi">481170000</span><span class="p">,</span> <span class="mi">481170001</span><span class="p">,</span>
    <span class="mi">481180000</span><span class="p">,</span> <span class="mi">481190000</span><span class="p">,</span> <span class="mi">481190001</span><span class="p">,</span> <span class="mi">481200000</span><span class="p">,</span> <span class="mi">481210000</span><span class="p">,</span> <span class="mi">481220000</span><span class="p">,</span> <span class="mi">481230000</span><span class="p">,</span>
    <span class="mi">481240000</span><span class="p">,</span> <span class="mi">481250000</span><span class="p">,</span> <span class="mi">481260000</span><span class="p">,</span> <span class="mi">481270000</span><span class="p">,</span> <span class="mi">481280000</span><span class="p">,</span> <span class="mi">481290000</span><span class="p">,</span> <span class="mi">481300000</span><span class="p">,</span>
    <span class="mi">481310000</span><span class="p">,</span> <span class="mi">481320000</span><span class="p">,</span> <span class="mi">491130000</span><span class="p">,</span> <span class="mi">491130001</span><span class="p">,</span> <span class="mi">491140000</span><span class="p">,</span> <span class="mi">491140001</span><span class="p">,</span> <span class="mi">491150000</span><span class="p">,</span>
    <span class="mi">491150001</span><span class="p">,</span> <span class="mi">491160000</span><span class="p">,</span> <span class="mi">491160001</span><span class="p">,</span> <span class="mi">491170000</span><span class="p">,</span> <span class="mi">491170001</span><span class="p">,</span> <span class="mi">491180000</span><span class="p">,</span> <span class="mi">491180001</span><span class="p">,</span>
    <span class="mi">491190000</span><span class="p">,</span> <span class="mi">491190001</span><span class="p">,</span> <span class="mi">491200000</span><span class="p">,</span> <span class="mi">491200001</span><span class="p">,</span> <span class="mi">491210000</span><span class="p">,</span> <span class="mi">491210001</span><span class="p">,</span> <span class="mi">491220000</span><span class="p">,</span>
    <span class="mi">491220001</span><span class="p">,</span> <span class="mi">491230000</span><span class="p">,</span> <span class="mi">491230001</span><span class="p">,</span> <span class="mi">491240000</span><span class="p">,</span> <span class="mi">491250000</span><span class="p">,</span> <span class="mi">491250001</span><span class="p">,</span> <span class="mi">491260000</span><span class="p">,</span>
    <span class="mi">491270000</span><span class="p">,</span> <span class="mi">491270001</span><span class="p">,</span> <span class="mi">491280000</span><span class="p">,</span> <span class="mi">491290000</span><span class="p">,</span> <span class="mi">491300000</span><span class="p">,</span> <span class="mi">491310000</span><span class="p">,</span> <span class="mi">491320000</span><span class="p">,</span>
    <span class="mi">491330000</span><span class="p">,</span> <span class="mi">491340000</span><span class="p">,</span> <span class="mi">501140000</span><span class="p">,</span> <span class="mi">501150000</span><span class="p">,</span> <span class="mi">501160000</span><span class="p">,</span> <span class="mi">501170000</span><span class="p">,</span> <span class="mi">501170001</span><span class="p">,</span>
    <span class="mi">501180000</span><span class="p">,</span> <span class="mi">501190000</span><span class="p">,</span> <span class="mi">501190001</span><span class="p">,</span> <span class="mi">501200000</span><span class="p">,</span> <span class="mi">501210000</span><span class="p">,</span> <span class="mi">501210001</span><span class="p">,</span> <span class="mi">501220000</span><span class="p">,</span>
    <span class="mi">501230000</span><span class="p">,</span> <span class="mi">501230001</span><span class="p">,</span> <span class="mi">501240000</span><span class="p">,</span> <span class="mi">501250000</span><span class="p">,</span> <span class="mi">501250001</span><span class="p">,</span> <span class="mi">501260000</span><span class="p">,</span> <span class="mi">501270000</span><span class="p">,</span>
    <span class="mi">501270001</span><span class="p">,</span> <span class="mi">501280000</span><span class="p">,</span> <span class="mi">501290000</span><span class="p">,</span> <span class="mi">501290001</span><span class="p">,</span> <span class="mi">501300000</span><span class="p">,</span> <span class="mi">501310000</span><span class="p">,</span> <span class="mi">501320000</span><span class="p">,</span>
    <span class="mi">501330000</span><span class="p">,</span> <span class="mi">501340000</span><span class="p">,</span> <span class="mi">501350000</span><span class="p">,</span> <span class="mi">501360000</span><span class="p">,</span> <span class="mi">511210000</span><span class="p">,</span> <span class="mi">511220000</span><span class="p">,</span> <span class="mi">511220001</span><span class="p">,</span>
    <span class="mi">511230000</span><span class="p">,</span> <span class="mi">511240000</span><span class="p">,</span> <span class="mi">511240001</span><span class="p">,</span> <span class="mi">511250000</span><span class="p">,</span> <span class="mi">511260000</span><span class="p">,</span> <span class="mi">511260001</span><span class="p">,</span> <span class="mi">511270000</span><span class="p">,</span>
    <span class="mi">511280000</span><span class="p">,</span> <span class="mi">511280001</span><span class="p">,</span> <span class="mi">511290000</span><span class="p">,</span> <span class="mi">511300000</span><span class="p">,</span> <span class="mi">511300001</span><span class="p">,</span> <span class="mi">511310000</span><span class="p">,</span> <span class="mi">511320000</span><span class="p">,</span>
    <span class="mi">511320001</span><span class="p">,</span> <span class="mi">511330000</span><span class="p">,</span> <span class="mi">511340000</span><span class="p">,</span> <span class="mi">511340001</span><span class="p">,</span> <span class="mi">511350000</span><span class="p">,</span> <span class="mi">511360000</span><span class="p">,</span> <span class="mi">511370000</span><span class="p">,</span>
    <span class="mi">511380000</span><span class="p">,</span> <span class="mi">511390000</span><span class="p">,</span> <span class="mi">521220000</span><span class="p">,</span> <span class="mi">521230000</span><span class="p">,</span> <span class="mi">521230001</span><span class="p">,</span> <span class="mi">521240000</span><span class="p">,</span> <span class="mi">521250000</span><span class="p">,</span>
    <span class="mi">521250001</span><span class="p">,</span> <span class="mi">521260000</span><span class="p">,</span> <span class="mi">521270000</span><span class="p">,</span> <span class="mi">521270001</span><span class="p">,</span> <span class="mi">521280000</span><span class="p">,</span> <span class="mi">521290000</span><span class="p">,</span> <span class="mi">521290001</span><span class="p">,</span>
    <span class="mi">521300000</span><span class="p">,</span> <span class="mi">521310000</span><span class="p">,</span> <span class="mi">521310001</span><span class="p">,</span> <span class="mi">521320000</span><span class="p">,</span> <span class="mi">521330000</span><span class="p">,</span> <span class="mi">521330001</span><span class="p">,</span> <span class="mi">521340000</span><span class="p">,</span>
    <span class="mi">521350000</span><span class="p">,</span> <span class="mi">521360000</span><span class="p">,</span> <span class="mi">521370000</span><span class="p">,</span> <span class="mi">521380000</span><span class="p">,</span> <span class="mi">521390000</span><span class="p">,</span> <span class="mi">521400000</span><span class="p">,</span> <span class="mi">521410000</span><span class="p">,</span>
    <span class="mi">521420000</span><span class="p">,</span> <span class="mi">531270000</span><span class="p">,</span> <span class="mi">531280000</span><span class="p">,</span> <span class="mi">531290000</span><span class="p">,</span> <span class="mi">531300000</span><span class="p">,</span> <span class="mi">531300001</span><span class="p">,</span> <span class="mi">531310000</span><span class="p">,</span>
    <span class="mi">531320000</span><span class="p">,</span> <span class="mi">531330000</span><span class="p">,</span> <span class="mi">531330001</span><span class="p">,</span> <span class="mi">531340000</span><span class="p">,</span> <span class="mi">531340001</span><span class="p">,</span> <span class="mi">531350000</span><span class="p">,</span> <span class="mi">531360000</span><span class="p">,</span>
    <span class="mi">531360001</span><span class="p">,</span> <span class="mi">531370000</span><span class="p">,</span> <span class="mi">531380000</span><span class="p">,</span> <span class="mi">531390000</span><span class="p">,</span> <span class="mi">531400000</span><span class="p">,</span> <span class="mi">531410000</span><span class="p">,</span> <span class="mi">531420000</span><span class="p">,</span>
    <span class="mi">531430000</span><span class="p">,</span> <span class="mi">531440000</span><span class="p">,</span> <span class="mi">531450000</span><span class="p">,</span> <span class="mi">541260000</span><span class="p">,</span> <span class="mi">541270000</span><span class="p">,</span> <span class="mi">541280000</span><span class="p">,</span> <span class="mi">541290000</span><span class="p">,</span>
    <span class="mi">541290001</span><span class="p">,</span> <span class="mi">541300000</span><span class="p">,</span> <span class="mi">541310000</span><span class="p">,</span> <span class="mi">541310001</span><span class="p">,</span> <span class="mi">541320000</span><span class="p">,</span> <span class="mi">541330000</span><span class="p">,</span> <span class="mi">541330001</span><span class="p">,</span>
    <span class="mi">541340000</span><span class="p">,</span> <span class="mi">541340001</span><span class="p">,</span> <span class="mi">541350000</span><span class="p">,</span> <span class="mi">541350001</span><span class="p">,</span> <span class="mi">541360000</span><span class="p">,</span> <span class="mi">541370000</span><span class="p">,</span> <span class="mi">541380000</span><span class="p">,</span>
    <span class="mi">541390000</span><span class="p">,</span> <span class="mi">541400000</span><span class="p">,</span> <span class="mi">541410000</span><span class="p">,</span> <span class="mi">541420000</span><span class="p">,</span> <span class="mi">541430000</span><span class="p">,</span> <span class="mi">541440000</span><span class="p">,</span> <span class="mi">541450000</span><span class="p">,</span>
    <span class="mi">541460000</span><span class="p">,</span> <span class="mi">541470000</span><span class="p">,</span> <span class="mi">551320000</span><span class="p">,</span> <span class="mi">551330000</span><span class="p">,</span> <span class="mi">551340000</span><span class="p">,</span> <span class="mi">551340001</span><span class="p">,</span> <span class="mi">551350000</span><span class="p">,</span>
    <span class="mi">551350001</span><span class="p">,</span> <span class="mi">551360000</span><span class="p">,</span> <span class="mi">551370000</span><span class="p">,</span> <span class="mi">551380000</span><span class="p">,</span> <span class="mi">551380001</span><span class="p">,</span> <span class="mi">551390000</span><span class="p">,</span> <span class="mi">551400000</span><span class="p">,</span>
    <span class="mi">551410000</span><span class="p">,</span> <span class="mi">551420000</span><span class="p">,</span> <span class="mi">551430000</span><span class="p">,</span> <span class="mi">551440000</span><span class="p">,</span> <span class="mi">551450000</span><span class="p">,</span> <span class="mi">551460000</span><span class="p">,</span> <span class="mi">551470000</span><span class="p">,</span>
    <span class="mi">551480000</span><span class="p">,</span> <span class="mi">551490000</span><span class="p">,</span> <span class="mi">551500000</span><span class="p">,</span> <span class="mi">561320000</span><span class="p">,</span> <span class="mi">561330000</span><span class="p">,</span> <span class="mi">561340000</span><span class="p">,</span> <span class="mi">561350000</span><span class="p">,</span>
    <span class="mi">561350001</span><span class="p">,</span> <span class="mi">561360000</span><span class="p">,</span> <span class="mi">561360001</span><span class="p">,</span> <span class="mi">561370000</span><span class="p">,</span> <span class="mi">561370001</span><span class="p">,</span> <span class="mi">561380000</span><span class="p">,</span> <span class="mi">561390000</span><span class="p">,</span>
    <span class="mi">561400000</span><span class="p">,</span> <span class="mi">561410000</span><span class="p">,</span> <span class="mi">561420000</span><span class="p">,</span> <span class="mi">561430000</span><span class="p">,</span> <span class="mi">561440000</span><span class="p">,</span> <span class="mi">561450000</span><span class="p">,</span> <span class="mi">561460000</span><span class="p">,</span>
    <span class="mi">561470000</span><span class="p">,</span> <span class="mi">561480000</span><span class="p">,</span> <span class="mi">561490000</span><span class="p">,</span> <span class="mi">561500000</span><span class="p">,</span> <span class="mi">561510000</span><span class="p">,</span> <span class="mi">561520000</span><span class="p">,</span> <span class="mi">571380000</span><span class="p">,</span>
    <span class="mi">571390000</span><span class="p">,</span> <span class="mi">571400000</span><span class="p">,</span> <span class="mi">571410000</span><span class="p">,</span> <span class="mi">571420000</span><span class="p">,</span> <span class="mi">571430000</span><span class="p">,</span> <span class="mi">571440000</span><span class="p">,</span> <span class="mi">571450000</span><span class="p">,</span>
    <span class="mi">571460000</span><span class="p">,</span> <span class="mi">571470000</span><span class="p">,</span> <span class="mi">571480000</span><span class="p">,</span> <span class="mi">571490000</span><span class="p">,</span> <span class="mi">571500000</span><span class="p">,</span> <span class="mi">571510000</span><span class="p">,</span> <span class="mi">571520000</span><span class="p">,</span>
    <span class="mi">571530000</span><span class="p">,</span> <span class="mi">571540000</span><span class="p">,</span> <span class="mi">571550000</span><span class="p">,</span> <span class="mi">581390000</span><span class="p">,</span> <span class="mi">581400000</span><span class="p">,</span> <span class="mi">581410000</span><span class="p">,</span> <span class="mi">581420000</span><span class="p">,</span>
    <span class="mi">581430000</span><span class="p">,</span> <span class="mi">581440000</span><span class="p">,</span> <span class="mi">581450000</span><span class="p">,</span> <span class="mi">581460000</span><span class="p">,</span> <span class="mi">581470000</span><span class="p">,</span> <span class="mi">581480000</span><span class="p">,</span> <span class="mi">581490000</span><span class="p">,</span>
    <span class="mi">581500000</span><span class="p">,</span> <span class="mi">581510000</span><span class="p">,</span> <span class="mi">581520000</span><span class="p">,</span> <span class="mi">581530000</span><span class="p">,</span> <span class="mi">581540000</span><span class="p">,</span> <span class="mi">581550000</span><span class="p">,</span> <span class="mi">581560000</span><span class="p">,</span>
    <span class="mi">581570000</span><span class="p">,</span> <span class="mi">591390000</span><span class="p">,</span> <span class="mi">591400000</span><span class="p">,</span> <span class="mi">591410000</span><span class="p">,</span> <span class="mi">591420000</span><span class="p">,</span> <span class="mi">591420001</span><span class="p">,</span> <span class="mi">591430000</span><span class="p">,</span>
    <span class="mi">591440000</span><span class="p">,</span> <span class="mi">591440001</span><span class="p">,</span> <span class="mi">591450000</span><span class="p">,</span> <span class="mi">591460000</span><span class="p">,</span> <span class="mi">591470000</span><span class="p">,</span> <span class="mi">591480000</span><span class="p">,</span> <span class="mi">591490000</span><span class="p">,</span>
    <span class="mi">591500000</span><span class="p">,</span> <span class="mi">591510000</span><span class="p">,</span> <span class="mi">591520000</span><span class="p">,</span> <span class="mi">591530000</span><span class="p">,</span> <span class="mi">591540000</span><span class="p">,</span> <span class="mi">591550000</span><span class="p">,</span> <span class="mi">591560000</span><span class="p">,</span>
    <span class="mi">591570000</span><span class="p">,</span> <span class="mi">591580000</span><span class="p">,</span> <span class="mi">591590000</span><span class="p">,</span> <span class="mi">601410000</span><span class="p">,</span> <span class="mi">601420000</span><span class="p">,</span> <span class="mi">601430000</span><span class="p">,</span> <span class="mi">601440000</span><span class="p">,</span>
    <span class="mi">601450000</span><span class="p">,</span> <span class="mi">601460000</span><span class="p">,</span> <span class="mi">601470000</span><span class="p">,</span> <span class="mi">601480000</span><span class="p">,</span> <span class="mi">601490000</span><span class="p">,</span> <span class="mi">601500000</span><span class="p">,</span> <span class="mi">601510000</span><span class="p">,</span>
    <span class="mi">601520000</span><span class="p">,</span> <span class="mi">601530000</span><span class="p">,</span> <span class="mi">601540000</span><span class="p">,</span> <span class="mi">601550000</span><span class="p">,</span> <span class="mi">601560000</span><span class="p">,</span> <span class="mi">601570000</span><span class="p">,</span> <span class="mi">601580000</span><span class="p">,</span>
    <span class="mi">601590000</span><span class="p">,</span> <span class="mi">601600000</span><span class="p">,</span> <span class="mi">601610000</span><span class="p">,</span> <span class="mi">611450000</span><span class="p">,</span> <span class="mi">611460000</span><span class="p">,</span> <span class="mi">611470000</span><span class="p">,</span> <span class="mi">611480000</span><span class="p">,</span>
    <span class="mi">611480001</span><span class="p">,</span> <span class="mi">611490000</span><span class="p">,</span> <span class="mi">611500000</span><span class="p">,</span> <span class="mi">611510000</span><span class="p">,</span> <span class="mi">611520000</span><span class="p">,</span> <span class="mi">611520001</span><span class="p">,</span> <span class="mi">611530000</span><span class="p">,</span>
    <span class="mi">611540000</span><span class="p">,</span> <span class="mi">611540001</span><span class="p">,</span> <span class="mi">611550000</span><span class="p">,</span> <span class="mi">611560000</span><span class="p">,</span> <span class="mi">611570000</span><span class="p">,</span> <span class="mi">611580000</span><span class="p">,</span> <span class="mi">611590000</span><span class="p">,</span>
    <span class="mi">611600000</span><span class="p">,</span> <span class="mi">611610000</span><span class="p">,</span> <span class="mi">611620000</span><span class="p">,</span> <span class="mi">621450000</span><span class="p">,</span> <span class="mi">621460000</span><span class="p">,</span> <span class="mi">621470000</span><span class="p">,</span> <span class="mi">621480000</span><span class="p">,</span>
    <span class="mi">621490000</span><span class="p">,</span> <span class="mi">621500000</span><span class="p">,</span> <span class="mi">621510000</span><span class="p">,</span> <span class="mi">621520000</span><span class="p">,</span> <span class="mi">621530000</span><span class="p">,</span> <span class="mi">621540000</span><span class="p">,</span> <span class="mi">621550000</span><span class="p">,</span>
    <span class="mi">621560000</span><span class="p">,</span> <span class="mi">621570000</span><span class="p">,</span> <span class="mi">621580000</span><span class="p">,</span> <span class="mi">621590000</span><span class="p">,</span> <span class="mi">621600000</span><span class="p">,</span> <span class="mi">621610000</span><span class="p">,</span> <span class="mi">621620000</span><span class="p">,</span>
    <span class="mi">621630000</span><span class="p">,</span> <span class="mi">621640000</span><span class="p">,</span> <span class="mi">621650000</span><span class="p">,</span> <span class="mi">631490000</span><span class="p">,</span> <span class="mi">631500000</span><span class="p">,</span> <span class="mi">631510000</span><span class="p">,</span> <span class="mi">631520000</span><span class="p">,</span>
    <span class="mi">631520001</span><span class="p">,</span> <span class="mi">631530000</span><span class="p">,</span> <span class="mi">631540000</span><span class="p">,</span> <span class="mi">631550000</span><span class="p">,</span> <span class="mi">631560000</span><span class="p">,</span> <span class="mi">631570000</span><span class="p">,</span> <span class="mi">631580000</span><span class="p">,</span>
    <span class="mi">631590000</span><span class="p">,</span> <span class="mi">631600000</span><span class="p">,</span> <span class="mi">631610000</span><span class="p">,</span> <span class="mi">631620000</span><span class="p">,</span> <span class="mi">631630000</span><span class="p">,</span> <span class="mi">631640000</span><span class="p">,</span> <span class="mi">631650000</span><span class="p">,</span>
    <span class="mi">641520000</span><span class="p">,</span> <span class="mi">641530000</span><span class="p">,</span> <span class="mi">641540000</span><span class="p">,</span> <span class="mi">641550000</span><span class="p">,</span> <span class="mi">641550001</span><span class="p">,</span> <span class="mi">641560000</span><span class="p">,</span> <span class="mi">641570000</span><span class="p">,</span>
    <span class="mi">641580000</span><span class="p">,</span> <span class="mi">641590000</span><span class="p">,</span> <span class="mi">641600000</span><span class="p">,</span> <span class="mi">641610000</span><span class="p">,</span> <span class="mi">641620000</span><span class="p">,</span> <span class="mi">641630000</span><span class="p">,</span> <span class="mi">641640000</span><span class="p">,</span>
    <span class="mi">641650000</span><span class="p">,</span> <span class="mi">651590000</span><span class="p">,</span> <span class="mi">651600000</span><span class="p">,</span> <span class="mi">651610000</span><span class="p">,</span> <span class="mi">651620000</span><span class="p">,</span> <span class="mi">651620001</span><span class="p">,</span> <span class="mi">651630000</span><span class="p">,</span>
    <span class="mi">651630001</span><span class="p">,</span> <span class="mi">651640000</span><span class="p">,</span> <span class="mi">651650000</span><span class="p">,</span> <span class="mi">661600000</span><span class="p">,</span> <span class="mi">661610000</span><span class="p">,</span> <span class="mi">661620000</span><span class="p">,</span> <span class="mi">661630000</span><span class="p">,</span>
    <span class="mi">661640000</span><span class="p">,</span> <span class="mi">661650000</span><span class="p">,</span> <span class="mi">661650001</span><span class="p">,</span> <span class="mi">661660000</span><span class="p">,</span> <span class="mi">671650000</span><span class="p">,</span> <span class="mi">671660000</span><span class="p">,</span> <span class="mi">671660001</span><span class="p">,</span>
    <span class="mi">681660000</span><span class="p">,</span> <span class="mi">681670000</span><span class="p">,</span> <span class="mi">681670001</span><span class="p">,</span> <span class="mi">681680000</span><span class="p">,</span> <span class="mi">681690000</span><span class="p">,</span> <span class="mi">681700000</span><span class="p">,</span> <span class="mi">681710000</span><span class="p">,</span>
    <span class="mi">681720000</span><span class="p">,</span> <span class="mi">691690000</span><span class="p">,</span> <span class="mi">691700000</span><span class="p">,</span> <span class="mi">691700001</span><span class="p">,</span> <span class="mi">691710000</span><span class="p">,</span> <span class="mi">691720000</span><span class="p">,</span> <span class="mi">701680000</span><span class="p">,</span>
    <span class="mi">701690000</span><span class="p">,</span> <span class="mi">701700000</span><span class="p">,</span> <span class="mi">701710000</span><span class="p">,</span> <span class="mi">701720000</span><span class="p">])</span>
<span class="sd">&quot;&quot;&quot;Set of fission product nuclides in id form.&quot;&quot;&quot;</span>

<span class="n">NUCS</span> <span class="o">=</span> <span class="n">ACTIVATION_PRODUCT_NUCS</span> <span class="o">|</span> <span class="n">ACTINIDE_AND_DAUGHTER_NUCS</span> <span class="o">|</span> <span class="n">FISSION_PRODUCT_NUCS</span>
<span class="sd">&quot;&quot;&quot;Set of all known nuclides.&quot;&quot;&quot;</span>

<span class="n">DECAY_FIELDS</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;half_life&#39;</span><span class="p">,</span> <span class="s">&#39;frac_beta_minus_x&#39;</span><span class="p">,</span>
    <span class="s">&#39;frac_beta_plus_or_electron_capture&#39;</span><span class="p">,</span>
    <span class="s">&#39;frac_beta_plus_or_electron_capture_x&#39;</span><span class="p">,</span>
    <span class="s">&#39;frac_alpha&#39;</span><span class="p">,</span> <span class="s">&#39;frac_isomeric_transition&#39;</span><span class="p">,</span> <span class="s">&#39;frac_spont_fiss&#39;</span><span class="p">,</span> <span class="s">&#39;frac_beta_n&#39;</span><span class="p">,</span>
    <span class="s">&#39;recoverable_energy&#39;</span><span class="p">,</span> <span class="s">&#39;frac_natural_abund&#39;</span><span class="p">,</span> <span class="s">&#39;inhilation_concentration&#39;</span><span class="p">,</span>
    <span class="s">&#39;ingestion_concentration&#39;</span><span class="p">)</span>
<span class="sd">&quot;&quot;&quot;The decay data keys in a tape9 dictionary.&quot;&quot;&quot;</span>

<span class="n">XSFPY_FIELDS</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;sigma_gamma&#39;</span><span class="p">,</span> <span class="s">&#39;sigma_2n&#39;</span><span class="p">,</span> <span class="s">&#39;sigma_gamma_x&#39;</span><span class="p">,</span> <span class="s">&#39;sigma_2n_x&#39;</span><span class="p">,</span>
    <span class="s">&#39;fiss_yields_present&#39;</span><span class="p">)</span>
<span class="sd">&quot;&quot;&quot;The cross section and fission product yield data keys in a tape9 dictionary.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">ACTIVATION_PRODUCT_FIELDS</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;sigma_3n&#39;</span><span class="p">,</span> <span class="s">&#39;sigma_p&#39;</span><span class="p">)</span>
<span class="sd">&quot;&quot;&quot;The cross section data keys for activation products in a tape9 dictionary.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">ACTINIDE_FIELDS</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;sigma_alpha&#39;</span><span class="p">,</span> <span class="s">&#39;sigma_f&#39;</span><span class="p">)</span>
<span class="sd">&quot;&quot;&quot;The cross section data keys for actinides &amp; daughters in a tape9 dictionary.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">FISSION_PRODUCT_FIELDS</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;sigma_3n&#39;</span><span class="p">,</span> <span class="s">&#39;sigma_p&#39;</span><span class="p">,</span> <span class="s">&#39;TH232_fiss_yield&#39;</span><span class="p">,</span>
                          <span class="s">&#39;U233_fiss_yield&#39;</span><span class="p">,</span>
                          <span class="s">&#39;U235_fiss_yield&#39;</span><span class="p">,</span> <span class="s">&#39;U238_fiss_yield&#39;</span><span class="p">,</span>
                          <span class="s">&#39;PU239_fiss_yield&#39;</span><span class="p">,</span> <span class="s">&#39;PU241_fiss_yield&#39;</span><span class="p">,</span>
                          <span class="s">&#39;CM245_fiss_yield&#39;</span><span class="p">,</span> <span class="s">&#39;CF249_fiss_yield&#39;</span><span class="p">)</span>
<span class="sd">&quot;&quot;&quot;The cross section &amp; yield data keys for fission products in a tape9</span>
<span class="sd">   dictionary.&quot;&quot;&quot;</span>

<span class="c"># Table 4.2 in ORIGEN 2.2 manual</span>
<span class="n">ORIGEN_TIME_UNITS</span> <span class="o">=</span> <span class="p">[</span><span class="bp">None</span><span class="p">,</span>              <span class="c"># No zero unit</span>
                     <span class="mf">1.0</span><span class="p">,</span>               <span class="c"># seconds</span>
                     <span class="mf">60.0</span><span class="p">,</span>              <span class="c"># minutes</span>
                     <span class="mf">3600.0</span><span class="p">,</span>            <span class="c"># hours</span>
                     <span class="mf">86400.0</span><span class="p">,</span>           <span class="c"># days</span>
                     <span class="mf">31556926.0</span><span class="p">,</span>        <span class="c"># years...which are fuzzily defined.</span>
                     <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>            <span class="c"># stable</span>
                     <span class="mf">31556926.0</span> <span class="o">*</span> <span class="mf">1E3</span><span class="p">,</span>  <span class="c"># ky</span>
                     <span class="mf">31556926.0</span> <span class="o">*</span> <span class="mf">1E6</span><span class="p">,</span>  <span class="c"># My</span>
                     <span class="mf">31556926.0</span> <span class="o">*</span> <span class="mf">1E9</span><span class="p">,</span>  <span class="c"># Gy</span>
                     <span class="p">]</span>


<div class="viewcode-block" id="sec_to_time_unit"><a class="viewcode-back" href="../../pyapi/origen22.html#pyne.origen22.sec_to_time_unit">[docs]</a><span class="k">def</span> <span class="nf">sec_to_time_unit</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Converts seconds to ORIGEN time and units.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    s : float</span>
<span class="sd">        time in seconds</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    t : float</span>
<span class="sd">        time in units</span>
<span class="sd">    unit : int</span>
<span class="sd">        time unit that t is in. Represents index</span>
<span class="sd">        into ORIGEN_TIME_UNITS, which matches</span>
<span class="sd">        Table 4.2 in ORIGEN 2.2 manual.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ORIGEN_TIME_UNITS</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="n">t</span> <span class="o">=</span> <span class="n">s</span> <span class="o">/</span> <span class="n">val</span>
        <span class="n">unit</span> <span class="o">=</span> <span class="n">i</span>

        <span class="k">if</span> <span class="n">t</span> <span class="o">!=</span> <span class="mf">0.0</span> <span class="ow">and</span> <span class="n">val</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">:</span>
            <span class="c"># Origen spec for stable nuclides</span>
            <span class="n">t</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="k">break</span>
        <span class="k">elif</span> <span class="mf">0.0</span> <span class="o">&lt;</span> <span class="n">t</span> <span class="o">&lt;</span> <span class="mf">1.0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
                <span class="n">unit</span> <span class="o">-=</span> <span class="mi">2</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">unit</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">s</span> <span class="o">/</span> <span class="n">ORIGEN_TIME_UNITS</span><span class="p">[</span><span class="n">unit</span><span class="p">]</span>
            <span class="k">break</span>

    <span class="k">return</span> <span class="n">t</span><span class="p">,</span> <span class="n">unit</span>


<span class="c"># Regex helpers</span></div>
<span class="n">_data_format</span> <span class="o">=</span> <span class="s">&quot;\d+\.\d*[EeDd]?[ +-]?\d+&quot;</span>


<span class="c">###################################</span>
<span class="c">### ORIGEN Input Deck Functions ###</span>
<span class="c">###################################</span>

<div class="viewcode-block" id="write_tape4"><a class="viewcode-back" href="../../pyapi/origen22.html#pyne.origen22.write_tape4">[docs]</a><span class="k">def</span> <span class="nf">write_tape4</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span> <span class="n">outfile</span><span class="o">=</span><span class="s">&quot;TAPE4.INP&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Writes a TAPE4.INP ORIGEN input file for a material.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    mat : Material</span>
<span class="sd">        Material with mass weights in units of grams.</span>
<span class="sd">    outfile : str or file handler, optional</span>
<span class="sd">        Path to tape4 file or file-like object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lower_z</span> <span class="o">=</span> <span class="n">mat</span><span class="p">[:</span><span class="s">&#39;AC&#39;</span><span class="p">]</span>
    <span class="n">upper_z</span> <span class="o">=</span> <span class="n">mat</span><span class="p">[</span><span class="s">&#39;AC&#39;</span><span class="p">:]</span>

    <span class="n">lower_lines</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;1 {0} {1:.10E}   0 0   0 0   0 0&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nucname</span><span class="o">.</span><span class="n">zzaaam</span><span class="p">(</span><span class="n">nuc</span><span class="p">),</span> <span class="n">mass</span><span class="p">)</span> \
                   <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">mass</span> <span class="ow">in</span> <span class="n">lower_z</span><span class="o">.</span><span class="n">mult_by_mass</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
    <span class="n">upper_lines</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;2 {0} {1:.10E}   0 0   0 0   0 0&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nucname</span><span class="o">.</span><span class="n">zzaaam</span><span class="p">(</span><span class="n">nuc</span><span class="p">),</span> <span class="n">mass</span><span class="p">)</span> \
                   <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">mass</span> <span class="ow">in</span> <span class="n">upper_z</span><span class="o">.</span><span class="n">mult_by_mass</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">lower_lines</span> <span class="o">+</span> <span class="n">upper_lines</span> <span class="o">+</span> <span class="p">[</span><span class="s">&quot;0 0 0 0</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">]</span>

    <span class="n">tape4</span> <span class="o">=</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>

    <span class="c"># Write to the file</span>
    <span class="n">opened_here</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">):</span>
        <span class="n">outfile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">)</span>
        <span class="n">opened_here</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">tape4</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">opened_here</span><span class="p">:</span>
        <span class="n">outfile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

</div>
<span class="n">_tape5_irradiation_template</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s">  -1</span>
<span class="s">  -1</span>
<span class="s">  -1</span>
<span class="s">  CUT     5 {CUT_OFF} -1</span>
<span class="s">  RDA     Make sure thet the library identifier numbers match those in the TAPE9.INP file</span>
<span class="s">  LIB     0 {DECAY_NLB1} {DECAY_NLB2} {DECAY_NLB3} {XSFPY_NLB1} {XSFPY_NLB2} {XSFPY_NLB3} 9 3 0 4 0</span>
<span class="s">  OPTL    {optl}</span>
<span class="s">  OPTA    {opta}</span>
<span class="s">  OPTF    {optf}</span>
<span class="s">  INP     1 -1  0  -1  4  4</span>
<span class="s">  RDA     All irradiation (IRF and IRP) cards must be between burnup (BUP) cards.</span>
<span class="s">  BUP</span>
<span class="s">  {irr_type}     {irr_time}  {irr_value}   1   2   4  2</span>
<span class="s">  BUP</span>
<span class="s">  OUT     2  1 1 0</span>
<span class="s">  END</span>
<span class="s">&quot;&quot;&quot;</span>

<span class="n">_tape5_decay_template</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s">  -1</span>
<span class="s">  -1</span>
<span class="s">  -1</span>
<span class="s">  CUT     5 {CUT_OFF} -1</span>
<span class="s">  RDA     Make sure thet the library identifier numbers match those in the TAPE9.INP file</span>
<span class="s">  LIB     0 {DECAY_NLB1} {DECAY_NLB2} {DECAY_NLB3} {XSFPY_NLB1} {XSFPY_NLB2} {XSFPY_NLB3} 9 3 0 4 0</span>
<span class="s">  OPTL    {optl}</span>
<span class="s">  OPTA    {opta}</span>
<span class="s">  OPTF    {optf}</span>
<span class="s">  INP     1 -1  0  -1  4  4</span>
<span class="s">  RDA     All irradiation (IRF and IRP) cards must be between burnup (BUP) cards.</span>
<span class="s">  BUP</span>
<span class="s">  DEC     {dec_time}  1   2   4  2</span>
<span class="s">  BUP</span>
<span class="s">  OUT     2  1 1 0</span>
<span class="s">  END</span>
<span class="s">&quot;&quot;&quot;</span>

<span class="n">_nes_table</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="n">_nes_table</span><span class="p">[</span><span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">]</span>    <span class="o">=</span> <span class="mi">1</span>
<span class="n">_nes_table</span><span class="p">[</span><span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">]</span>   <span class="o">=</span> <span class="mi">2</span>
<span class="n">_nes_table</span><span class="p">[</span><span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">]</span>   <span class="o">=</span> <span class="mi">3</span>
<span class="n">_nes_table</span><span class="p">[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">]</span>   <span class="o">=</span> <span class="mi">4</span>
<span class="n">_nes_table</span><span class="p">[</span><span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">]</span>  <span class="o">=</span> <span class="mi">5</span>
<span class="n">_nes_table</span><span class="p">[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">]</span>  <span class="o">=</span> <span class="mi">6</span>
<span class="n">_nes_table</span><span class="p">[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">]</span>  <span class="o">=</span> <span class="mi">7</span>
<span class="n">_nes_table</span><span class="p">[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">]</span> <span class="o">=</span> <span class="mi">8</span>


<span class="k">def</span> <span class="nf">_out_table_string</span><span class="p">(</span><span class="n">out_table_nes</span><span class="p">,</span> <span class="n">out_table_num</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Makes a string output table line from relevant information.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">out_table_num</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array2string</span><span class="p">(</span><span class="n">arr</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">s</span>

    <span class="n">arr</span> <span class="o">=</span> <span class="mi">8</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">out_table_num</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="n">arr</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">_nes_table</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">out_table_nes</span><span class="p">)]</span>

    <span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array2string</span><span class="p">(</span><span class="n">arr</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">s</span>


<div class="viewcode-block" id="write_tape5_irradiation"><a class="viewcode-back" href="../../pyapi/origen22.html#pyne.origen22.write_tape5_irradiation">[docs]</a><span class="k">def</span> <span class="nf">write_tape5_irradiation</span><span class="p">(</span><span class="n">irr_type</span><span class="p">,</span> <span class="n">irr_time</span><span class="p">,</span> <span class="n">irr_value</span><span class="p">,</span>
                            <span class="n">outfile</span><span class="o">=</span><span class="s">&quot;TAPE5.INP&quot;</span><span class="p">,</span>
                            <span class="n">decay_nlb</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                            <span class="n">xsfpy_nlb</span><span class="o">=</span><span class="p">(</span><span class="mi">204</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">206</span><span class="p">),</span>
                            <span class="n">cut_off</span><span class="o">=</span><span class="mf">1E-10</span><span class="p">,</span>
                            <span class="n">out_table_nes</span><span class="o">=</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span>
                            <span class="n">out_table_laf</span><span class="o">=</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">),</span>
                            <span class="n">out_table_num</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Writes an irradiation TAPE5 file.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    irr_type : str</span>
<span class="sd">        Flag that determines whether this is a constant power &quot;IRP&quot;</span>
<span class="sd">        irradiation or a constant flux &quot;IRF&quot; irradiation calculation.</span>
<span class="sd">    irr_time : float</span>
<span class="sd">        Irradiation time durration in days.</span>
<span class="sd">    irr_value : float</span>
<span class="sd">        Magnitude of the irradiation. If irr_type = &quot;IRP&quot;, then</span>
<span class="sd">        this is a power.  If irr_type = &quot;IRF&quot;, then this is a flux.</span>
<span class="sd">    outfile : str or file-like object</span>
<span class="sd">        Path or file to write the tape5 to.</span>
<span class="sd">    decay_nlb : length 3 sequence</span>
<span class="sd">        Three tuple of library numbers from the tape9 file decay data, eg (1, 2, 3).</span>
<span class="sd">    xsfpy_nlb : length 3 sequence</span>
<span class="sd">        Three tuple of library numbers from the tape9 file for cross section and fission</span>
<span class="sd">        product yields, eg (204, 205, 206).</span>
<span class="sd">    cut_off : float, optional</span>
<span class="sd">        Cut-off concentration, below which reults are not recorded.</span>
<span class="sd">    out_table_nes :  length 3 sequence of bools, optional</span>
<span class="sd">        Specifies which type of output tables should be printed by ORIGEN.  The fields</span>
<span class="sd">        represent (Nuclide, Element, Summary).  The default value of (False, False, True)</span>
<span class="sd">        only prints the summary tables.</span>
<span class="sd">    out_table_laf :  length 3 sequence of bools, optional</span>
<span class="sd">        Specifies whether to print the activation products (l), actinides (a), and</span>
<span class="sd">        fission products (f).  By default all three are printed.</span>
<span class="sd">    out_table_num : sequence of ints or None</span>
<span class="sd">        Specifies which tables, by number, to print according to the rules given by</span>
<span class="sd">        out_table_nes and out_table_laf.  For example the list [10, 5] would print</span>
<span class="sd">        tables 5 and 10.  There are 24 tables available. If None, then all tables</span>
<span class="sd">        are printed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">irr_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&quot;IRP&quot;</span><span class="p">,</span> <span class="s">&quot;IRF&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s">&quot;Irradiation type must be either &#39;IRP&#39; or &#39;IRF&#39;.&quot;</span><span class="p">)</span>

    <span class="c"># Make template fill-value dictionary</span>
    <span class="n">tape5_kw</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;CUT_OFF&#39;</span><span class="p">:</span> <span class="s">&quot;{0:.3E}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cut_off</span><span class="p">),</span>
        <span class="s">&#39;DECAY_NLB1&#39;</span><span class="p">:</span> <span class="n">decay_nlb</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="s">&#39;DECAY_NLB2&#39;</span><span class="p">:</span> <span class="n">decay_nlb</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
        <span class="s">&#39;DECAY_NLB3&#39;</span><span class="p">:</span> <span class="n">decay_nlb</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
        <span class="s">&#39;XSFPY_NLB1&#39;</span><span class="p">:</span> <span class="n">xsfpy_nlb</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="s">&#39;XSFPY_NLB2&#39;</span><span class="p">:</span> <span class="n">xsfpy_nlb</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
        <span class="s">&#39;XSFPY_NLB3&#39;</span><span class="p">:</span> <span class="n">xsfpy_nlb</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
        <span class="s">&#39;irr_type&#39;</span><span class="p">:</span> <span class="n">irr_type</span><span class="p">,</span>
        <span class="s">&#39;irr_time&#39;</span><span class="p">:</span> <span class="s">&#39;{0:.10E}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">irr_time</span><span class="p">),</span>
        <span class="s">&#39;irr_value&#39;</span><span class="p">:</span> <span class="s">&#39;{0:.10E}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">irr_value</span><span class="p">),</span>
        <span class="p">}</span>

    <span class="n">no_print_string</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array2string</span><span class="p">(</span><span class="mi">8</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">))[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="c"># Activation Product Print String</span>
    <span class="k">if</span> <span class="n">out_table_laf</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="n">tape5_kw</span><span class="p">[</span><span class="s">&#39;optl&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_out_table_string</span><span class="p">(</span><span class="n">out_table_nes</span><span class="p">,</span> <span class="n">out_table_num</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tape5_kw</span><span class="p">[</span><span class="s">&#39;optl&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">no_print_string</span>

    <span class="c"># Actinide Print String</span>
    <span class="k">if</span> <span class="n">out_table_laf</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
        <span class="n">tape5_kw</span><span class="p">[</span><span class="s">&#39;opta&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_out_table_string</span><span class="p">(</span><span class="n">out_table_nes</span><span class="p">,</span> <span class="n">out_table_num</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tape5_kw</span><span class="p">[</span><span class="s">&#39;opta&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">no_print_string</span>

    <span class="c"># Fission Product Print String</span>
    <span class="k">if</span> <span class="n">out_table_laf</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
        <span class="n">tape5_kw</span><span class="p">[</span><span class="s">&#39;optf&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_out_table_string</span><span class="p">(</span><span class="n">out_table_nes</span><span class="p">,</span> <span class="n">out_table_num</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tape5_kw</span><span class="p">[</span><span class="s">&#39;optf&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">no_print_string</span>

    <span class="c"># Fill the template and write it to a file</span>
    <span class="n">tape5</span> <span class="o">=</span> <span class="n">_tape5_irradiation_template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">tape5_kw</span><span class="p">)</span>

    <span class="n">opened_here</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">):</span>
        <span class="n">outfile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">)</span>
        <span class="n">opened_here</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">tape5</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">opened_here</span><span class="p">:</span>
        <span class="n">outfile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

</div>
<div class="viewcode-block" id="write_tape5_decay"><a class="viewcode-back" href="../../pyapi/origen22.html#pyne.origen22.write_tape5_decay">[docs]</a><span class="k">def</span> <span class="nf">write_tape5_decay</span><span class="p">(</span><span class="n">dec_time</span><span class="p">,</span>
                      <span class="n">outfile</span><span class="o">=</span><span class="s">&quot;TAPE5.INP&quot;</span><span class="p">,</span>
                      <span class="n">decay_nlb</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                      <span class="n">xsfpy_nlb</span><span class="o">=</span><span class="p">(</span><span class="mi">204</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">206</span><span class="p">),</span>
                      <span class="n">cut_off</span><span class="o">=</span><span class="mf">1E-10</span><span class="p">,</span>
                      <span class="n">out_table_nes</span><span class="o">=</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span>
                      <span class="n">out_table_laf</span><span class="o">=</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">),</span>
                      <span class="n">out_table_num</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Writes an irradiation TAPE5 file.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    dec_time : float</span>
<span class="sd">        Decay time durration in days.</span>
<span class="sd">    outfile : str or file-like object</span>
<span class="sd">        Path or file to write the tape5 to.</span>
<span class="sd">    decay_nlb : length 3 sequence</span>
<span class="sd">        Three tuple of library numbers from the tape9 file decay data, eg (1, 2, 3).</span>
<span class="sd">    xsfpy_nlb : length 3 sequence</span>
<span class="sd">        Three tuple of library numbers from the tape9 file for cross section and fission</span>
<span class="sd">        product yields, eg (204, 205, 206).</span>
<span class="sd">    cut_off : float, optional</span>
<span class="sd">        Cut-off concentration, below which reults are not recorded.</span>
<span class="sd">    out_table_nes :  length 3 sequence of bools, optional</span>
<span class="sd">        Specifies which type of output tables should be printed by ORIGEN.  The fields</span>
<span class="sd">        represent (Nuclide, Element, Summary).  The default value of (False, False, True)</span>
<span class="sd">        only prints the summary tables.</span>
<span class="sd">    out_table_laf :  length 3 sequence of bools, optional</span>
<span class="sd">        Specifies whether to print the activation products (l), actinides (a), and</span>
<span class="sd">        fission products (f).  By default all three are printed.</span>
<span class="sd">    out_table_num : sequence of ints or None</span>
<span class="sd">        Specifies which tables, by number, to print according to the rules given by</span>
<span class="sd">        out_table_nes and out_table_laf.  For example the list [10, 5] would print</span>
<span class="sd">        tables 5 and 10.  There are 24 tables available. If None, then all tables</span>
<span class="sd">        are printed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># Make template fill-value dictionary</span>
    <span class="n">tape5_kw</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;CUT_OFF&#39;</span><span class="p">:</span> <span class="s">&quot;{0:.3E}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cut_off</span><span class="p">),</span>
        <span class="s">&#39;DECAY_NLB1&#39;</span><span class="p">:</span> <span class="n">decay_nlb</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="s">&#39;DECAY_NLB2&#39;</span><span class="p">:</span> <span class="n">decay_nlb</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
        <span class="s">&#39;DECAY_NLB3&#39;</span><span class="p">:</span> <span class="n">decay_nlb</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
        <span class="s">&#39;XSFPY_NLB1&#39;</span><span class="p">:</span> <span class="n">xsfpy_nlb</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="s">&#39;XSFPY_NLB2&#39;</span><span class="p">:</span> <span class="n">xsfpy_nlb</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
        <span class="s">&#39;XSFPY_NLB3&#39;</span><span class="p">:</span> <span class="n">xsfpy_nlb</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
        <span class="s">&#39;dec_time&#39;</span><span class="p">:</span> <span class="s">&#39;{0:.10E}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dec_time</span><span class="p">),</span>
        <span class="p">}</span>

    <span class="n">no_print_string</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array2string</span><span class="p">(</span><span class="mi">8</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">))[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="c"># Activation Product Print String</span>
    <span class="k">if</span> <span class="n">out_table_laf</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="n">tape5_kw</span><span class="p">[</span><span class="s">&#39;optl&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_out_table_string</span><span class="p">(</span><span class="n">out_table_nes</span><span class="p">,</span> <span class="n">out_table_num</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tape5_kw</span><span class="p">[</span><span class="s">&#39;optl&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">no_print_string</span>

    <span class="c"># Actinide Print String</span>
    <span class="k">if</span> <span class="n">out_table_laf</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
        <span class="n">tape5_kw</span><span class="p">[</span><span class="s">&#39;opta&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_out_table_string</span><span class="p">(</span><span class="n">out_table_nes</span><span class="p">,</span> <span class="n">out_table_num</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tape5_kw</span><span class="p">[</span><span class="s">&#39;opta&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">no_print_string</span>

    <span class="c"># Fission Product Print String</span>
    <span class="k">if</span> <span class="n">out_table_laf</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
        <span class="n">tape5_kw</span><span class="p">[</span><span class="s">&#39;optf&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_out_table_string</span><span class="p">(</span><span class="n">out_table_nes</span><span class="p">,</span> <span class="n">out_table_num</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tape5_kw</span><span class="p">[</span><span class="s">&#39;optf&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">no_print_string</span>


    <span class="c"># Fill the template and write it to a file</span>
    <span class="n">tape5</span> <span class="o">=</span> <span class="n">_tape5_decay_template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">tape5_kw</span><span class="p">)</span>

    <span class="n">opened_here</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">):</span>
        <span class="n">outfile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">)</span>
        <span class="n">opened_here</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">tape5</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">opened_here</span><span class="p">:</span>
        <span class="n">outfile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c">#</span>
<span class="c"># Tape6 functions</span>
<span class="c">#</span>
</div>
<span class="n">_rx_bu_data_line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&#39; (TIME, SEC|NEUT. FLUX|SP POW,MW|BURNUP,MWD|K INFINITY|NEUT PRODN|NEUT DESTN|TOT BURNUP|AVG N FLUX|AVG SP POW) (.*)&#39;</span><span class="p">)</span>

<span class="n">_rx_bu_key_map</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&quot;TIME, SEC&quot;</span><span class="p">:</span>  <span class="s">&quot;time_sec&quot;</span><span class="p">,</span>
    <span class="s">&quot;NEUT. FLUX&quot;</span><span class="p">:</span> <span class="s">&quot;flux&quot;</span><span class="p">,</span>
    <span class="s">&quot;SP POW,MW&quot;</span><span class="p">:</span>  <span class="s">&quot;specific_power_MW&quot;</span><span class="p">,</span>
    <span class="s">&quot;BURNUP,MWD&quot;</span><span class="p">:</span> <span class="s">&quot;burnup_MWD&quot;</span><span class="p">,</span>
    <span class="s">&quot;K INFINITY&quot;</span><span class="p">:</span> <span class="s">&quot;k_inf&quot;</span><span class="p">,</span>
    <span class="s">&quot;NEUT PRODN&quot;</span><span class="p">:</span> <span class="s">&quot;neutron_production_rate&quot;</span><span class="p">,</span>
    <span class="s">&quot;NEUT DESTN&quot;</span><span class="p">:</span> <span class="s">&quot;neutron_destruction_rate&quot;</span><span class="p">,</span>
    <span class="s">&quot;TOT BURNUP&quot;</span><span class="p">:</span> <span class="s">&quot;total_burnup&quot;</span><span class="p">,</span>
    <span class="s">&quot;AVG N FLUX&quot;</span><span class="p">:</span> <span class="s">&quot;average_flux&quot;</span><span class="p">,</span>
    <span class="s">&quot;AVG SP POW&quot;</span><span class="p">:</span> <span class="s">&quot;average_specific_power&quot;</span><span class="p">,</span>
    <span class="p">}</span>

<span class="n">_table_header_line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&quot;[ 0]\s+(\d+) (NUCLIDE|ELEMENT|SUMMARY) TABLE:([ A-Z]+),([ 0-9A-Za-z*]+)&quot;</span><span class="p">)</span>

<span class="n">_table_header_alpha_line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&quot;[ 0]\s+(\d+) (NUCLIDE|ELEMENT|SUMMARY) TABLE:\s*(ALPHA RADIOACTIVITY)\s+([ 0-9A-Za-z*]+)&quot;</span><span class="p">)</span>

<span class="n">_nuclide_line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&quot; ([ A-Z][A-Z][ \d][ \d]\d[ M])\s+(.*)&quot;</span><span class="p">)</span>

<span class="n">_element_line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&quot; ([ A-Z][A-Z])   \s+(.*)&quot;</span><span class="p">)</span>

<span class="n">_species_group_line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&#39;[ +]\s+(ACTIVATION PRODUCTS|ACTINIDES[+]DAUGHTERS|FISSION PRODUCTS)&#39;</span><span class="p">)</span>

<span class="n">_group_key_map</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;ACTIVATION PRODUCTS&#39;</span><span class="p">:</span> <span class="s">&#39;activation_products&#39;</span><span class="p">,</span>
    <span class="s">&#39;ACTINIDES+DAUGHTERS&#39;</span><span class="p">:</span> <span class="s">&#39;actinides&#39;</span><span class="p">,</span>
    <span class="s">&#39;FISSION PRODUCTS&#39;</span><span class="p">:</span> <span class="s">&#39;fission_products&#39;</span><span class="p">,</span>
    <span class="p">}</span>

<span class="n">_alpha_n_header_line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&#39;\s*(\(ALPHA,N\) NEUTRON SOURCE), (NEUTRONS/SEC)&#39;</span><span class="p">)</span>

<span class="n">_spont_fiss_header_line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&#39;\s*(SPONTANEOUS FISSION NEUTRON SOURCE), (NEUTRONS/SEC)&#39;</span><span class="p">)</span>

<span class="n">_n_source_key_map</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;(ALPHA,N) NEUTRON SOURCE&#39;</span><span class="p">:</span> <span class="s">&#39;alpha_neutron_source&#39;</span><span class="p">,</span>
    <span class="s">&#39;SPONTANEOUS FISSION NEUTRON SOURCE&#39;</span><span class="p">:</span> <span class="s">&#39;spont_fiss_neutron_source&#39;</span><span class="p">,</span>
    <span class="p">}</span>

<span class="n">_photon_spec_header_line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&quot;\s+PHOTON SPECTRUM FOR(.*)&quot;</span><span class="p">)</span>


<div class="viewcode-block" id="parse_tape6"><a class="viewcode-back" href="../../pyapi/origen22.html#pyne.origen22.parse_tape6">[docs]</a><span class="k">def</span> <span class="nf">parse_tape6</span><span class="p">(</span><span class="n">tape6</span><span class="o">=</span><span class="s">&quot;TAPE6.OUT&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Parses an ORIGEN 2.2 TAPE6.OUT file.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    tape6 : str or file-like object</span>
<span class="sd">        Path or file to read the tape6 file from.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    results : dict</span>
<span class="sd">        Dictionary of parsed values.</span>

<span class="sd">    Warnings</span>
<span class="sd">    --------</span>
<span class="sd">    This method currently only functions to extract neutronic data from TAPE6</span>
<span class="sd">    files.  It does not yet parse out photonic data.  If you would like to see</span>
<span class="sd">    this feature added, please contact the developers.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    The results dictionary that is returned is highly structured and generally</span>
<span class="sd">    matches the layout of the TAPE6 file.  Data is stored as 1d numpy float arrays</span>
<span class="sd">    which (if the TAPE6 is well-formed) will all be of the same length and match</span>
<span class="sd">    the time vector.  The possible layout of results is as follows::</span>

<span class="sd">      |- &#39;time_sec&#39;: time per index in [seconds]</span>
<span class="sd">      |- &#39;flux&#39;: neutron flux at this time [n/cm^2/s]</span>
<span class="sd">      |- &#39;specific_power_MW&#39;: recator specific power at this time [MW]</span>
<span class="sd">      |- &#39;burnup_MWD&#39;: reactor burnup since last time step [MWd/input mass [g] from TAPE4]</span>
<span class="sd">      |- &#39;k_inf&#39;: infinite multiplication factor [unitless]</span>
<span class="sd">      |- &#39;neutron_production_rate&#39;: Total reactor neutron production rate [n/s]</span>
<span class="sd">      |- &#39;neutron_destruction_rate: Total reactor neutron destruction rate [n/s]</span>
<span class="sd">      |- &#39;total_burnup&#39;: Cummulative burnup over all time [MWd/input mass [g] from TAPE4]</span>
<span class="sd">      |- &#39;average_flux&#39;: average neutron flux over preceeding time interval [n/cm^2/s]</span>
<span class="sd">      |- &#39;average_specific_power: recator specific power over preceeding time interval [MW]</span>
<span class="sd">      |- &#39;materials&#39;: list of Materials of same length as &#39;time_sec&#39;, only present if</span>
<span class="sd">      |               &#39;table_3&#39; or &#39;table_5&#39; exist and have &#39;nuclide&#39; output.</span>
<span class="sd">      |- &#39;alpha_neutron_source&#39;: dict</span>
<span class="sd">      |                          |- &#39;title&#39;: str</span>
<span class="sd">      |                          |- &#39;units&#39;: str</span>
<span class="sd">      |                          |- nuclide or element str: (alpha, n) neutron source [n/s]</span>
<span class="sd">      |- &#39;spont_fiss_neutron_source&#39;: dict</span>
<span class="sd">      |                          |- &#39;title&#39;: str</span>
<span class="sd">      |                          |- &#39;units&#39;: str</span>
<span class="sd">      |                          |- nuclide or element str: spontaneous fission neutron source [n/s]</span>
<span class="sd">      |- &#39;table_{n}&#39;: dict</span>
<span class="sd">      |               |- &#39;nuclide&#39;: dict</span>
<span class="sd">      |               |             |- &#39;title&#39;: str</span>
<span class="sd">      |               |             |- &#39;units&#39;: str</span>
<span class="sd">      |               |             |- &#39;activation_products&#39;: dict of (nuc-zzaaam, data) pairs</span>
<span class="sd">      |               |             |- &#39;actinides&#39;: dict of (nuc-zzaaam, data) pairs</span>
<span class="sd">      |               |             |- &#39;fission_products&#39;: dict of (nuc-zzaaam, data) pairs</span>
<span class="sd">      |               |- &#39;element&#39;: dict</span>
<span class="sd">      |               |             |- &#39;title&#39;: str</span>
<span class="sd">      |               |             |- &#39;units&#39;: str</span>
<span class="sd">      |               |             |- &#39;activation_products&#39;: dict of (elem str, data) pairs</span>
<span class="sd">      |               |             |- &#39;actinides&#39;: dict of (elem str, data) pairs</span>
<span class="sd">      |               |             |- &#39;fission_products&#39;: dict of (elem str, data) pairs</span>
<span class="sd">      |               |- &#39;summary&#39;: dict</span>
<span class="sd">      |               |             |- &#39;title&#39;: str</span>
<span class="sd">      |               |             |- &#39;units&#39;: str</span>
<span class="sd">      |               |             |- &#39;activation_products&#39;: dict of (elem or nuc str, data) pairs</span>
<span class="sd">      |               |             |- &#39;actinides&#39;: dict of (elem or nuc str, data) pairs</span>
<span class="sd">      |               |             |- &#39;fission_products&#39;: dict of (elem or nuc str, data) pairs</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># Read the TAPE6 file</span>
    <span class="n">opened_here</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tape6</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">):</span>
        <span class="n">tape6</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">tape6</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">)</span>
        <span class="n">opened_here</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="n">lines</span> <span class="o">=</span> <span class="n">tape6</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">opened_here</span><span class="p">:</span>
        <span class="n">tape6</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="c"># Prep to parse the file</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c"># Defaults</span>
    <span class="n">table_key</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">table_type</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">table_group</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="c"># Read in the file line-by-line</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">lines</span><span class="p">):</span>
        <span class="c"># Get reactivity and burnup data</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">_rx_bu_data_line</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">m</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">key</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
            <span class="n">new_key</span> <span class="o">=</span> <span class="n">_rx_bu_key_map</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="n">arr_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
            <span class="n">curr_data</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">new_key</span><span class="p">,</span> <span class="p">[])</span>
            <span class="n">results</span><span class="p">[</span><span class="n">new_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">curr_data</span><span class="p">,</span> <span class="n">arr_data</span><span class="p">)</span>
            <span class="k">continue</span>

        <span class="c"># Get table spcies group</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">_species_group_line</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">m</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">table_group</span> <span class="o">=</span> <span class="n">_group_key_map</span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span>
            <span class="k">continue</span>

        <span class="c"># Get table header info</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">_table_header_line</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="ow">or</span> <span class="n">_table_header_alpha_line</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">m</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">tnum</span><span class="p">,</span> <span class="n">ttype</span><span class="p">,</span> <span class="n">ttitle</span><span class="p">,</span> <span class="n">tunits</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>

            <span class="n">table_key</span> <span class="o">=</span> <span class="s">&quot;table_{0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tnum</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">table_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
                <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="n">table_type</span> <span class="o">=</span> <span class="n">ttype</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">table_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">]:</span>
                <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">][</span><span class="n">table_type</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">][</span><span class="n">table_type</span><span class="p">][</span><span class="s">&quot;title&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ttitle</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">][</span><span class="n">table_type</span><span class="p">][</span><span class="s">&quot;units&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tunits</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">table_group</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">][</span><span class="n">table_type</span><span class="p">]:</span>
                <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">][</span><span class="n">table_type</span><span class="p">][</span><span class="n">table_group</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">continue</span>

        <span class="c"># Grab nuclide data lines</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">_nuclide_line</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">m</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">table_key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">nuc</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
            <span class="n">nuc_name</span> <span class="o">=</span> <span class="n">nuc</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

            <span class="c"># Don&#39;t know WTF element &#39;SF&#39; is suppossed to be!</span>
            <span class="c"># (Spent fuel, spontaneous fission)</span>
            <span class="k">if</span> <span class="n">nuc_name</span> <span class="o">==</span> <span class="s">&#39;SF250&#39;</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="n">nuc_zz</span> <span class="o">=</span> <span class="n">nucname</span><span class="o">.</span><span class="n">zzaaam</span><span class="p">(</span><span class="n">nuc_name</span><span class="p">)</span>
            <span class="n">nuc_key</span> <span class="o">=</span> <span class="n">nuc_zz</span> <span class="k">if</span> <span class="n">table_type</span> <span class="o">==</span> <span class="s">&#39;nuclide&#39;</span> <span class="k">else</span> <span class="n">nuc_name</span>
            <span class="n">nuc_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">table_key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;table_&#39;</span><span class="p">):</span>
                <span class="n">curr_data</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">][</span><span class="n">table_type</span><span class="p">][</span><span class="n">table_group</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">nuc_key</span><span class="p">,</span> <span class="p">[])</span>
                <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">][</span><span class="n">table_type</span><span class="p">][</span><span class="n">table_group</span><span class="p">][</span><span class="n">nuc_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">curr_data</span><span class="p">,</span> <span class="n">nuc_data</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">curr_data</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">nuc_key</span><span class="p">,</span> <span class="p">[])</span>
                <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">][</span><span class="n">nuc_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">curr_data</span><span class="p">,</span> <span class="n">nuc_data</span><span class="p">)</span>
            <span class="k">continue</span>

        <span class="c"># Grab element data line</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">_element_line</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">m</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">table_key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">elem</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

            <span class="c"># Still don&#39;t know WTF element &#39;SF&#39; is suppossed to be!</span>
            <span class="c"># (Spent fuel, spontaneous fission)</span>
            <span class="k">if</span> <span class="n">elem</span> <span class="o">==</span> <span class="s">&#39;SF&#39;</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="n">elem_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">table_key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;table_&#39;</span><span class="p">):</span>
                <span class="n">curr_data</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">][</span><span class="n">table_type</span><span class="p">][</span><span class="n">table_group</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="p">[])</span>
                <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">][</span><span class="n">table_type</span><span class="p">][</span><span class="n">table_group</span><span class="p">][</span><span class="n">elem</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">curr_data</span><span class="p">,</span> <span class="n">elem_data</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">curr_data</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="p">[])</span>
                <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">][</span><span class="n">elem</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">curr_data</span><span class="p">,</span> <span class="n">elem_data</span><span class="p">)</span>
            <span class="k">continue</span>

        <span class="c"># Grab (alpha, n) and spontaneous fission headers</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">_alpha_n_header_line</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="ow">or</span> <span class="n">_spont_fiss_header_line</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">m</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">ttitle</span><span class="p">,</span> <span class="n">tunits</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>

            <span class="n">table_key</span> <span class="o">=</span> <span class="n">_n_source_key_map</span><span class="p">[</span><span class="n">ttitle</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">table_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
                <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="n">table_type</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="n">table_group</span> <span class="o">=</span> <span class="bp">None</span>

            <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">][</span><span class="s">&quot;title&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ttitle</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="n">results</span><span class="p">[</span><span class="n">table_key</span><span class="p">][</span><span class="s">&quot;units&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tunits</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="k">continue</span>

        <span class="c"># Photon spectra parsing is not yet supported</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">_photon_spec_header_line</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">m</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">table_key</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="n">table_type</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="n">table_group</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="c"># Done with parsing, try to convert to material</span>
    <span class="n">tbl</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="p">(</span><span class="s">&#39;table_5&#39;</span> <span class="ow">in</span> <span class="n">results</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="s">&#39;nuclide&#39;</span> <span class="ow">in</span> <span class="n">results</span><span class="p">[</span><span class="s">&#39;table_5&#39;</span><span class="p">]):</span>
        <span class="n">tbl</span> <span class="o">=</span> <span class="s">&#39;table_5&#39;</span>
        <span class="n">mat_gen</span> <span class="o">=</span> <span class="n">Material</span>
    <span class="k">elif</span> <span class="p">(</span><span class="s">&#39;table_3&#39;</span> <span class="ow">in</span> <span class="n">results</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="s">&#39;nuclide&#39;</span> <span class="ow">in</span> <span class="n">results</span><span class="p">[</span><span class="s">&#39;table_3&#39;</span><span class="p">]):</span>
        <span class="n">tbl</span> <span class="o">=</span> <span class="s">&#39;table_3&#39;</span>
        <span class="n">mat_gen</span> <span class="o">=</span> <span class="n">from_atom_frac</span>

    <span class="k">if</span> <span class="n">tbl</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">T</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s">&#39;time_sec&#39;</span><span class="p">])</span>
        <span class="n">mats</span> <span class="o">=</span> <span class="p">[</span><span class="n">Material</span><span class="p">()</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">T</span><span class="p">)]</span>

        <span class="k">for</span> <span class="n">grp</span> <span class="ow">in</span> <span class="n">_group_key_map</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">grp</span> <span class="ow">in</span> <span class="n">results</span><span class="p">[</span><span class="n">tbl</span><span class="p">][</span><span class="s">&#39;nuclide&#39;</span><span class="p">]:</span>
                <span class="n">mats</span> <span class="o">=</span> <span class="p">[</span><span class="n">m</span> <span class="o">+</span> <span class="n">mat_gen</span><span class="p">(</span><span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">arr</span> <span class="ow">in</span> \
                                            <span class="n">results</span><span class="p">[</span><span class="n">tbl</span><span class="p">][</span><span class="s">&#39;nuclide&#39;</span><span class="p">][</span><span class="n">grp</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()]))</span> \
                                            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mats</span><span class="p">)]</span>

        <span class="n">results</span><span class="p">[</span><span class="s">&#39;materials&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mats</span>

    <span class="k">return</span> <span class="n">results</span>


<span class="c">#</span>
<span class="c"># Tape9 functions</span>
<span class="c">#</span>
</div>
<span class="n">title_card_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&quot;(\d+)\s+(\S.*)&quot;</span><span class="p">)</span>

<span class="c"># Decay library regex</span>
<span class="n">decay_card1_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&quot;(\d+)\s+(\d{{5,7}})\s+(\d)\s+({num})\s+({num})\s+({num})\s+({num})\s+({num})\s+({num})&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="n">_data_format</span><span class="p">))</span>
<span class="n">decay_card2_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&quot;(\d+)\s+({num})\s+({num})\s+({num})\s+({num})\s+({num})\s+({num})&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="n">_data_format</span><span class="p">))</span>

<span class="c"># Cross section and fission product yeild library regex</span>
<span class="n">xsfpy_card1_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&quot;(\d+)\s+(\d{{5,7}})\s+({num})\s+({num})\s+({num})\s+({num})\s+({num})\s+({num})\s+([+-]?{num})&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="n">_data_format</span><span class="p">))</span>
<span class="n">xsfpy_card2_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&quot;(\d+)\s+({num})\s+({num})\s+({num})\s+({num})\s+({num})\s+({num})\s+({num})\s+({num})&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="n">_data_format</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">_parse_tape9_decay</span><span class="p">(</span><span class="n">deck</span><span class="p">):</span>
    <span class="n">pdeck</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;_type&#39;</span><span class="p">:</span> <span class="s">&#39;decay&#39;</span><span class="p">}</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">title_card_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">deck</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="c"># Parse the cards into a structured arrau</span>
    <span class="n">cards</span> <span class="o">=</span> <span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">groups</span><span class="p">()[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="n">n</span><span class="o">.</span><span class="n">groups</span><span class="p">()[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">for</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span>
             <span class="nb">zip</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">decay_card1_re</span><span class="o">.</span><span class="n">match</span><span class="p">,</span> <span class="n">deck</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]),</span>
                 <span class="nb">map</span><span class="p">(</span><span class="n">decay_card2_re</span><span class="o">.</span><span class="n">match</span><span class="p">,</span> <span class="n">deck</span><span class="p">[</span><span class="mi">2</span><span class="p">::</span><span class="mi">2</span><span class="p">]))]</span>
    <span class="n">cards</span> <span class="o">=</span> <span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">card</span><span class="p">)</span> <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">]</span>
    <span class="n">cards</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">cards</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s">&#39;i4,i4&#39;</span> <span class="o">+</span> <span class="s">&#39;,f8&#39;</span><span class="o">*</span><span class="mi">12</span><span class="p">)</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;_cards&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cards</span>

    <span class="c"># Add the first cards</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;half_life&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">ORIGEN_TIME_UNITS</span><span class="p">[</span><span class="n">unit</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">val</span> <span class="ow">or</span> <span class="mf">1.0</span><span class="p">))</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">unit</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f1&#39;</span><span class="p">,</span> <span class="s">&#39;f2&#39;</span><span class="p">]]</span> <span class="p">])</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;frac_beta_minus_x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f3&#39;</span><span class="p">]]</span> <span class="p">])</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;frac_beta_plus_or_electron_capture&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f4&#39;</span><span class="p">]]</span> <span class="p">])</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;frac_beta_plus_or_electron_capture_x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f5&#39;</span><span class="p">]]</span> <span class="p">])</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;frac_alpha&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f6&#39;</span><span class="p">]]</span> <span class="p">])</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;frac_isomeric_transition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f7&#39;</span><span class="p">]]</span> <span class="p">])</span>

    <span class="c"># Add the second cards</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;frac_spont_fiss&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f8&#39;</span><span class="p">]]</span> <span class="p">])</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;frac_beta_n&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f9&#39;</span><span class="p">]]</span> <span class="p">])</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;recoverable_energy&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f10&#39;</span><span class="p">]]</span> <span class="p">])</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;frac_natural_abund&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="o">*</span><span class="mf">0.01</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f11&#39;</span><span class="p">]]</span> <span class="p">])</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;inhilation_concentration&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f12&#39;</span><span class="p">]]</span> <span class="p">])</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;ingestion_concentration&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f13&#39;</span><span class="p">]]</span> <span class="p">])</span>

    <span class="k">return</span> <span class="n">pdeck</span>


<span class="k">def</span> <span class="nf">_parse_tape9_xsfpy</span><span class="p">(</span><span class="n">deck</span><span class="p">):</span>
    <span class="n">pdeck</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;_type&#39;</span><span class="p">:</span> <span class="s">&#39;xsfpy&#39;</span><span class="p">}</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">title_card_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">deck</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="c"># Pasre the deck</span>
    <span class="n">cards</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">no_fpy</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;0.0&#39;</span><span class="p">,</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">8</span>

    <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">deck_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">deck</span><span class="p">)</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">deck_size</span><span class="p">):</span>
        <span class="n">first_card</span> <span class="o">=</span> <span class="n">xsfpy_card1_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">deck</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">groups</span><span class="p">()[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">if</span> <span class="mf">0.0</span> <span class="o">&lt;</span> <span class="nb">float</span><span class="p">(</span><span class="n">first_card</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">second_card</span> <span class="o">=</span> <span class="n">xsfpy_card2_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">deck</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">groups</span><span class="p">()[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">second_card</span> <span class="o">=</span> <span class="n">no_fpy</span>
        <span class="n">cards</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">first_card</span> <span class="o">+</span> <span class="n">second_card</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="n">cards</span> <span class="o">=</span> <span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">card</span><span class="p">)</span> <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">]</span>
    <span class="n">cards</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">cards</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s">&#39;i4&#39;</span> <span class="o">+</span> <span class="s">&#39;,f8&#39;</span><span class="o">*</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;_cards&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cards</span>

    <span class="c"># Try to determine subtype</span>
    <span class="k">if</span> <span class="p">(</span><span class="mf">0.0</span> <span class="o">&lt;</span> <span class="n">cards</span><span class="p">[</span><span class="s">&#39;f7&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
        <span class="n">subtype</span> <span class="o">=</span> <span class="s">&#39;fission_products&#39;</span>
    <span class="k">elif</span> <span class="mi">890000</span> <span class="o">&lt;</span> <span class="n">cards</span><span class="p">[</span><span class="s">&#39;f0&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">():</span>
        <span class="n">subtype</span> <span class="o">=</span> <span class="s">&#39;actinides&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">subtype</span> <span class="o">=</span> <span class="s">&#39;activation_products&#39;</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;_subtype&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">subtype</span>

    <span class="c"># Parse first cards</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;sigma_gamma&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f1&#39;</span><span class="p">]]</span> <span class="p">])</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;sigma_2n&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f2&#39;</span><span class="p">]]</span> <span class="p">])</span>

    <span class="n">f3_keys</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;fission_products&#39;</span><span class="p">:</span> <span class="s">&#39;sigma_alpha&#39;</span><span class="p">,</span> <span class="s">&#39;actinides&#39;</span><span class="p">:</span> <span class="s">&#39;sigma_3n&#39;</span><span class="p">,</span> <span class="s">&#39;activation_products&#39;</span><span class="p">:</span> <span class="s">&#39;sigma_alpha&#39;</span><span class="p">}</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="n">f3_keys</span><span class="p">[</span><span class="n">subtype</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f3&#39;</span><span class="p">]]</span> <span class="p">])</span>

    <span class="n">f4_keys</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;fission_products&#39;</span><span class="p">:</span> <span class="s">&#39;sigma_p&#39;</span><span class="p">,</span> <span class="s">&#39;actinides&#39;</span><span class="p">:</span> <span class="s">&#39;sigma_f&#39;</span><span class="p">,</span> <span class="s">&#39;activation_products&#39;</span><span class="p">:</span> <span class="s">&#39;sigma_p&#39;</span><span class="p">}</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="n">f4_keys</span><span class="p">[</span><span class="n">subtype</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f4&#39;</span><span class="p">]]</span> <span class="p">])</span>

    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;sigma_gamma_x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f5&#39;</span><span class="p">]]</span> <span class="p">])</span>
    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;sigma_2n_x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f6&#39;</span><span class="p">]]</span> <span class="p">])</span>

    <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;fiss_yields_present&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="mf">0.0</span> <span class="o">&lt;</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f7&#39;</span><span class="p">]]</span> <span class="p">])</span>

    <span class="c"># parse second cards if of correct subtype</span>
    <span class="k">if</span> <span class="n">subtype</span> <span class="o">==</span> <span class="s">&#39;fission_products&#39;</span><span class="p">:</span>
        <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;TH232_fiss_yield&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f8&#39;</span><span class="p">]]</span> <span class="p">])</span>
        <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;U233_fiss_yield&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f9&#39;</span><span class="p">]]</span> <span class="p">])</span>
        <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;U235_fiss_yield&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f10&#39;</span><span class="p">]]</span> <span class="p">])</span>
        <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;U238_fiss_yield&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f11&#39;</span><span class="p">]]</span> <span class="p">])</span>
        <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;PU239_fiss_yield&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f12&#39;</span><span class="p">]]</span> <span class="p">])</span>
        <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;PU241_fiss_yield&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f13&#39;</span><span class="p">]]</span> <span class="p">])</span>
        <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;CM245_fiss_yield&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f14&#39;</span><span class="p">]]</span> <span class="p">])</span>
        <span class="n">pdeck</span><span class="p">[</span><span class="s">&#39;CF249_fiss_yield&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cards</span><span class="p">[[</span><span class="s">&#39;f0&#39;</span><span class="p">,</span> <span class="s">&#39;f15&#39;</span><span class="p">]]</span> <span class="p">])</span>

    <span class="k">return</span> <span class="n">pdeck</span>


<div class="viewcode-block" id="parse_tape9"><a class="viewcode-back" href="../../pyapi/origen22.html#pyne.origen22.parse_tape9">[docs]</a><span class="k">def</span> <span class="nf">parse_tape9</span><span class="p">(</span><span class="n">tape9</span><span class="o">=</span><span class="s">&quot;TAPE9.INP&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Parses an ORIGEN 2.2 TAPE9 file and returns the data as a dictionary of</span>
<span class="sd">    nuclide dictionaries.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    tape9 : str or file-like object, optional</span>
<span class="sd">        Path to the tape9 file.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    parsed : dict</span>
<span class="sd">        A dictionary of the data from the TAPE9 file.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    The TAPE9 format is highly structured. Therefore the in-memory representation contains a</span>
<span class="sd">    non-trivial amount of nesting.  At the top level, the dictionary keys are the library</span>
<span class="sd">    numbers::</span>

<span class="sd">        tape9</span>
<span class="sd">          |- keys : deck number (1, 2, 3, 241, ...)</span>
<span class="sd">          |- values : sub-dictionaries for each deck.</span>

<span class="sd">    Each deck contains keys which vary by deck type (and subtype).  All dictionary-typed data</span>
<span class="sd">    maps zzaaam-nuclide integers to the appropriate value::</span>

<span class="sd">        all decks</span>
<span class="sd">          |- &#39;_type&#39; : str in [&#39;decay&#39;, &#39;xsfpy&#39;] # photon libs not yet supported</span>
<span class="sd">          |- &#39;_subtype&#39; : str for &#39;xsfpy&#39; in [&#39;activation_products&#39;, &#39;actinides&#39;, &#39;fission_products&#39;]</span>
<span class="sd">          |- &#39;title&#39; : str, deck name</span>
<span class="sd">          |- &#39;_cards&#39; : optional, numpy structrued array of deck data</span>

<span class="sd">        decay decks</span>
<span class="sd">          |- &#39;half_life&#39; : float-valued dict [seconds]</span>
<span class="sd">          |- &#39;frac_beta_minus_x&#39; : float-valued dict [fraction of decays via beta minus</span>
<span class="sd">          |                        which leave an excited nucleus]</span>
<span class="sd">          |- &#39;frac_beta_plus_or_electron_capture&#39; : float-valued dict [fraction of decays</span>
<span class="sd">          |                                         via positron emission or electron capture]</span>
<span class="sd">          |- &#39;frac_beta_plus_or_electron_capture_x&#39; : float-valued dict [fraction of decays</span>
<span class="sd">          |                                           via positron emission or electron capture</span>
<span class="sd">          |                                           which leave an excited nucleus]</span>
<span class="sd">          |- &#39;frac_alpha&#39; : float-valued dict [fraction of decays via alpha emission]</span>
<span class="sd">          |- &#39;frac_isomeric_transition&#39; : float-valued dict [fraction of decays from an excitied</span>
<span class="sd">          |                               state to the ground state]</span>
<span class="sd">          |- &#39;frac_spont_fiss&#39; : float-valued dict [fraction of decays via spontateous fission]</span>
<span class="sd">          |- &#39;frac_beta_n&#39; : float-valued dict [fraction of decays via beta plus a neutron]</span>
<span class="sd">          |- &#39;recoverable_energy&#39; : float-valued dict, Total recoverable energy [MeV / decay]</span>
<span class="sd">          |- &#39;frac_natural_abund&#39; : float-valued dict, natrual occuring abundance [atom fraction]</span>
<span class="sd">          |- &#39;inhilation_concentration&#39; : float-valued dict, continuous inhilation [RCG]</span>
<span class="sd">          |- &#39;ingestion_concentration&#39; : float-valued dict, continuous ingestion [RCG]</span>

<span class="sd">        cross section and fission product yield decks</span>
<span class="sd">          |- &#39;sigma_gamma&#39; : float-valued dict, (n, gamma) cross section [barns]</span>
<span class="sd">          |- &#39;sigma_2n&#39; : float-valued dict, (n, 2n) cross section [barns]</span>
<span class="sd">          |- &#39;sigma_gamma_x&#39; : float-valued dict, (n, gamma *) cross section [barns]</span>
<span class="sd">          |- &#39;sigma_2n_x&#39; : float-valued dict, (n, 2n *) cross section [barns]</span>
<span class="sd">          |- &#39;fiss_yields_present&#39; : bool-valued dict, Whether fission product yields are</span>
<span class="sd">                                     included for this nuclide.</span>

<span class="sd">        activation product cross section decks</span>
<span class="sd">          |- &#39;_subtype&#39; : &#39;activation_products&#39;</span>
<span class="sd">          |- &#39;sigma_3n&#39; : float-valued dict, (n, 3n) cross section [barns]</span>
<span class="sd">          |- &#39;sigma_p&#39; : float-valued dict, (n, proton) cross section [barns]</span>

<span class="sd">        actinide cross section decks</span>
<span class="sd">          |- &#39;_subtype&#39; : &#39;actinides&#39;</span>
<span class="sd">          |- &#39;sigma_alpha&#39; : float-valued dict, (n, alpha) cross section [barns]</span>
<span class="sd">          |- &#39;sigma_f&#39; : float-valued dict, (n, fission) cross section [barns]</span>

<span class="sd">        fission product cross section and yield decks</span>
<span class="sd">          |- &#39;_subtype&#39; : &#39;fission_products&#39;</span>
<span class="sd">          |- &#39;sigma_3n&#39; : float-valued dict, (n, 3n) cross section [barns]</span>
<span class="sd">          |- &#39;sigma_p&#39; : float-valued dict, (n, proton) cross section [barns]</span>
<span class="sd">          |- &#39;TH232_fiss_yield&#39; : float-valued dict, yield from Th-232 fission [frac]</span>
<span class="sd">          |- &#39;U233_fiss_yield&#39; : float-valued dict, yield from U-233 fission [frac]</span>
<span class="sd">          |- &#39;U235_fiss_yield&#39; : float-valued dict, yield from U-235 fission [frac]</span>
<span class="sd">          |- &#39;U238_fiss_yield&#39; : float-valued dict, yield from U-238 fission [frac]</span>
<span class="sd">          |- &#39;PU239_fiss_yield&#39; : float-valued dict, yield from Pu-239 fission [frac]</span>
<span class="sd">          |- &#39;PU241_fiss_yield&#39; : float-valued dict, yield from Pu-241 fission [frac]</span>
<span class="sd">          |- &#39;CM245_fiss_yield&#39; : float-valued dict, yield from Cm-245 fission [frac]</span>
<span class="sd">          |- &#39;CF249_fiss_yield&#39; : float-valued dict, yield from Cf-249 fission [frac]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># Read and strip lines</span>
    <span class="n">opened_here</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tape9</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">):</span>
        <span class="n">tape9</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">tape9</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">)</span>
        <span class="n">opened_here</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="n">tape9_lines</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">tape9</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">opened_here</span><span class="p">:</span>
        <span class="n">tape9</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="c"># Split lines into various decks.</span>
    <span class="n">decks</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">tape9_lines</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">&#39;-1&#39;</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">tape9_lines</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s">&#39;-1&#39;</span><span class="p">)</span>
        <span class="n">decks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tape9_lines</span><span class="p">[:</span><span class="n">n</span><span class="p">])</span>
        <span class="n">tape9_lines</span> <span class="o">=</span> <span class="n">tape9_lines</span><span class="p">[</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>

    <span class="c"># parse the individual decks.</span>
    <span class="n">parsed</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">deck</span> <span class="ow">in</span> <span class="n">decks</span><span class="p">:</span>
        <span class="c"># Decay deck</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">decay_card1_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">deck</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">m</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">deck_num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
            <span class="n">parsed</span><span class="p">[</span><span class="n">deck_num</span><span class="p">]</span> <span class="o">=</span> <span class="n">_parse_tape9_decay</span><span class="p">(</span><span class="n">deck</span><span class="p">)</span>
            <span class="k">continue</span>

        <span class="c"># Cross section deck</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">xsfpy_card1_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">deck</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">m</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">deck_num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
            <span class="n">parsed</span><span class="p">[</span><span class="n">deck_num</span><span class="p">]</span> <span class="o">=</span> <span class="n">_parse_tape9_xsfpy</span><span class="p">(</span><span class="n">deck</span><span class="p">)</span>
            <span class="k">continue</span>

    <span class="k">return</span> <span class="n">parsed</span>

</div>
<div class="viewcode-block" id="loads_tape9"><a class="viewcode-back" href="../../pyapi/origen22.html#pyne.origen22.loads_tape9">[docs]</a><span class="k">def</span> <span class="nf">loads_tape9</span><span class="p">(</span><span class="n">tape9</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Parses a string that represents an ORIGEN 2.2 TAPE9 file and returns the data</span>
<span class="sd">    as a dictionary of nuclide dictionaries. See ``parse_tape9()`` for more details.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    tape9 : str</span>
<span class="sd">        String represetation of the TAPE9 file.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    parsed : dict</span>
<span class="sd">        A dictionary of the data from the TAPE9 file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tape9</span><span class="p">,</span> <span class="nb">unicode</span><span class="p">):</span>
        <span class="n">t9</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">(</span><span class="n">tape9</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">t9</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">(</span><span class="n">tape9</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
    <span class="n">parsed</span> <span class="o">=</span> <span class="n">parse_tape9</span><span class="p">(</span><span class="n">t9</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parsed</span>

</div>
<div class="viewcode-block" id="merge_tape9"><a class="viewcode-back" href="../../pyapi/origen22.html#pyne.origen22.merge_tape9">[docs]</a><span class="k">def</span> <span class="nf">merge_tape9</span><span class="p">(</span><span class="n">tape9s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Merges a sequence of full or partial TAPE9s into a single tape9 dictionary.</span>
<span class="sd">    Data from the first tape9 has precednce over the second, the second over the</span>
<span class="sd">    third, etc.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    tape9s : list or tuple</span>
<span class="sd">        A sequence of full or partial tape9 dictionaries.  See parse_tape9()</span>
<span class="sd">        for more information on the structure of these dictionaires.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tape9 : dictionary</span>
<span class="sd">        A tape9 file which is the merger of the all of the tape9s.  See</span>
<span class="sd">        parse_tape9() for more information on the structure of this dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tape9</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">t9</span> <span class="ow">in</span> <span class="n">tape9s</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">nlb</span><span class="p">,</span> <span class="n">deck</span> <span class="ow">in</span> <span class="n">t9</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">nlb</span> <span class="ow">in</span> <span class="n">tape9</span><span class="p">:</span>
                <span class="c"># Make sure the decks are of the same type</span>
                <span class="k">assert</span> <span class="n">tape9</span><span class="p">[</span><span class="n">nlb</span><span class="p">][</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">deck</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span>
                <span class="k">if</span> <span class="p">(</span><span class="s">&#39;_subtype&#39;</span> <span class="ow">in</span> <span class="n">tape9</span><span class="p">[</span><span class="n">nlb</span><span class="p">])</span> <span class="ow">and</span> <span class="p">(</span><span class="s">&#39;_subtype&#39;</span> <span class="ow">in</span> <span class="n">deck</span><span class="p">):</span>
                    <span class="k">assert</span> <span class="n">tape9</span><span class="p">[</span><span class="n">nlb</span><span class="p">][</span><span class="s">&#39;_subtype&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">deck</span><span class="p">[</span><span class="s">&#39;_subtype&#39;</span><span class="p">]</span>

                <span class="c"># _cards has been invalidated... remove it</span>
                <span class="n">tape9</span><span class="p">[</span><span class="n">nlb</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">&#39;_cards&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

                <span class="c"># Update all of the keys, except _cards</span>
                <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">deck</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">tape9</span><span class="p">[</span><span class="n">nlb</span><span class="p">]</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s">&#39;keys&#39;</span><span class="p">):</span>
                        <span class="n">tape9</span><span class="p">[</span><span class="n">nlb</span><span class="p">][</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="o">!=</span> <span class="s">&#39;_cards&#39;</span><span class="p">:</span>
                        <span class="n">tape9</span><span class="p">[</span><span class="n">nlb</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c"># New library number, make a copy</span>
                <span class="n">tape9</span><span class="p">[</span><span class="n">nlb</span><span class="p">]</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">deck</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">tape9</span>

</div>
<span class="k">def</span> <span class="nf">_double_get</span><span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="n">key1</span><span class="p">,</span> <span class="n">key2</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">key1</span> <span class="ow">in</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">[</span><span class="n">key1</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key2</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">default</span>


<span class="n">_deck_title_fmt</span> <span class="o">=</span> <span class="s">&quot;{nlb:&gt;4}    {title:^72}</span><span class="se">\n</span><span class="s">&quot;</span>

<span class="n">_decay_card_fmt</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;{nlb:&gt;4}{nuc:&gt;8}  {unit}     {time:&lt;9.{p}E} {fbx:&lt;9.{p}E} {fpec:&lt;9.{p}E} {fpecx:&lt;9.{p}E} {fa:&lt;9.{p}E} {fit:&lt;9.{p}E}</span><span class="se">\n</span><span class="s">&quot;</span>
                   <span class="s">&quot;{nlb:&gt;4}                {fsf:&lt;9.{p}E} {fn:&lt;9.{p}E} {qrec:&lt;9.{p}E} {abund:&lt;9.{p}E} {arcg:&lt;9.{p}E} {wrcg:&lt;9.{p}E}</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>

<span class="n">_xs_card_fmt</span> <span class="o">=</span> <span class="s">&quot;{nlb:&gt;4}{nuc:&gt;8} {sg:&lt;9.{p}E} {s2n:&lt;9.{p}E} {s3n_or_a:&lt;9.{p}E} {sf_or_p:&lt;9.{p}E} {sg_x:&lt;9.{p}E} {s2n_x:&lt;9.{p}E} {fpy_flag:&gt;6.1F} </span><span class="se">\n</span><span class="s">&quot;</span>

<span class="n">_fpy_card_fmt</span> <span class="o">=</span> <span class="s">&quot;{nlb:&gt;4}     {y1:&lt;9.{p}E} {y2:&lt;9.{p}E} {y3:&lt;9.{p}E} {y4:&lt;9.{p}E} {y5:&lt;9.{p}E} {y6:&lt;9.{p}E} {y7:&lt;9.{p}E} {y8:&lt;9.{p}E}</span><span class="se">\n</span><span class="s">&quot;</span>


<span class="k">def</span> <span class="nf">_decay_deck_2_str</span><span class="p">(</span><span class="n">nlb</span><span class="p">,</span> <span class="n">deck</span><span class="p">,</span> <span class="n">precision</span><span class="p">):</span>
    <span class="c"># Get unique isotopes</span>
    <span class="n">nucset</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">nuc</span> <span class="k">for</span> <span class="n">nuc</span> <span class="ow">in</span> <span class="n">chain</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">deck</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> \
                  <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s">&#39;keys&#39;</span><span class="p">)])</span> <span class="p">])</span>
    <span class="n">nucset</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">nucset</span><span class="p">))</span>

    <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">nuc</span> <span class="ow">in</span> <span class="n">nucset</span><span class="p">:</span>
        <span class="n">nuc_id</span> <span class="o">=</span> <span class="n">nucname</span><span class="o">.</span><span class="n">zzaaam_to_id</span><span class="p">(</span><span class="n">nuc</span><span class="p">)</span>
        <span class="n">t</span><span class="p">,</span> <span class="n">unit</span> <span class="o">=</span> <span class="n">sec_to_time_unit</span><span class="p">(</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;half_life&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">,</span>
                                               <span class="n">data</span><span class="o">.</span><span class="n">half_life</span><span class="p">(</span><span class="n">nuc_id</span><span class="p">)))</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="n">_decay_card_fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nlb</span><span class="o">=</span><span class="n">nlb</span><span class="p">,</span>
                <span class="n">nuc</span><span class="o">=</span><span class="n">nuc</span><span class="p">,</span>
                <span class="n">unit</span><span class="o">=</span><span class="n">unit</span><span class="p">,</span>
                <span class="n">time</span><span class="o">=</span><span class="n">t</span><span class="p">,</span>
                <span class="n">fbx</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;frac_beta_minus_x&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                <span class="n">fpec</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;frac_beta_plus_or_electron_capture&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                <span class="n">fpecx</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;frac_beta_plus_or_electron_capture_x&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                <span class="n">fa</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;frac_alpha&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                <span class="n">fit</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;frac_isomeric_transition&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                <span class="n">fsf</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;frac_spont_fiss&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                <span class="n">fn</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;frac_beta_n&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                <span class="n">qrec</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;recoverable_energy&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                <span class="n">abund</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;frac_natural_abund&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">,</span>
                                  <span class="n">data</span><span class="o">.</span><span class="n">natural_abund</span><span class="p">(</span><span class="n">nuc_id</span><span class="p">)),</span>
                <span class="n">arcg</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;inhilation_concentration&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>
                <span class="n">wrcg</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;ingestion_concentration&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>
                <span class="n">p</span><span class="o">=</span><span class="n">precision</span><span class="p">,</span>
                <span class="p">)</span>
    <span class="k">return</span> <span class="n">s</span>


<span class="k">def</span> <span class="nf">_xs_deck_2_str</span><span class="p">(</span><span class="n">nlb</span><span class="p">,</span> <span class="n">deck</span><span class="p">,</span> <span class="n">precision</span><span class="p">):</span>
    <span class="c"># Get unique isotopes</span>
    <span class="n">nucset</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">nuc</span> <span class="k">for</span> <span class="n">nuc</span> <span class="ow">in</span> <span class="n">chain</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">deck</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s">&#39;keys&#39;</span><span class="p">)])</span> <span class="p">])</span>
    <span class="n">nucset</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nucset</span><span class="p">)</span>

    <span class="n">is_actinides</span> <span class="o">=</span> <span class="n">deck</span><span class="p">[</span><span class="s">&#39;_subtype&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;actinides&#39;</span>

    <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">nuc</span> <span class="ow">in</span> <span class="n">nucset</span><span class="p">:</span>
        <span class="n">fpy_flag</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
        <span class="n">fpy_present</span> <span class="o">=</span> <span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;fiss_yields_present&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fpy_present</span><span class="p">:</span>
            <span class="n">fpy_flag</span> <span class="o">=</span> <span class="mf">1.0</span>

        <span class="n">s</span> <span class="o">+=</span> <span class="n">_xs_card_fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nlb</span><span class="o">=</span><span class="n">nlb</span><span class="p">,</span>
                                 <span class="n">nuc</span><span class="o">=</span><span class="n">nuc</span><span class="p">,</span>
                                 <span class="n">sg</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;sigma_gamma&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                 <span class="n">s2n</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;sigma_2n&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                 <span class="n">s3n_or_a</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;sigma_alpha&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">)</span> <span class="k">if</span> <span class="n">is_actinides</span> <span class="k">else</span> <span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;sigma_3n&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                 <span class="n">sf_or_p</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;sigma_f&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">)</span> <span class="k">if</span> <span class="n">is_actinides</span> <span class="k">else</span> <span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;sigma_p&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                 <span class="n">sg_x</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;sigma_gamma_x&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                 <span class="n">s2n_x</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;sigma_2n_x&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                 <span class="n">fpy_flag</span><span class="o">=</span><span class="n">fpy_flag</span><span class="p">,</span>
                                 <span class="n">p</span><span class="o">=</span><span class="n">precision</span><span class="p">,</span>
                                 <span class="p">)</span>
    <span class="k">return</span> <span class="n">s</span>


<span class="k">def</span> <span class="nf">_xsfpy_deck_2_str</span><span class="p">(</span><span class="n">nlb</span><span class="p">,</span> <span class="n">deck</span><span class="p">,</span> <span class="n">precision</span><span class="p">):</span>
    <span class="c"># Get unique isotopes</span>
    <span class="n">nucset</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">nuc</span> <span class="k">for</span> <span class="n">nuc</span> <span class="ow">in</span> <span class="n">chain</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">deck</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s">&#39;keys&#39;</span><span class="p">)])</span> <span class="p">])</span>
    <span class="n">nucset</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nucset</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">nuc</span> <span class="ow">in</span> <span class="n">nucset</span><span class="p">:</span>
        <span class="n">fpy_flag</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="n">_xs_card_fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nlb</span><span class="o">=</span><span class="n">nlb</span><span class="p">,</span>
                                 <span class="n">nuc</span><span class="o">=</span><span class="n">nuc</span><span class="p">,</span>
                                 <span class="n">sg</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;sigma_gamma&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                 <span class="n">s2n</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;sigma_2n&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                 <span class="n">s3n_or_a</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;sigma_3n&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                 <span class="n">sf_or_p</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;sigma_p&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                 <span class="n">sg_x</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;sigma_gamma_x&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                 <span class="n">s2n_x</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;sigma_2n_x&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                 <span class="n">fpy_flag</span><span class="o">=</span><span class="n">fpy_flag</span><span class="p">,</span>
                                 <span class="n">p</span><span class="o">=</span><span class="n">precision</span><span class="p">,</span>
                                 <span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="n">_fpy_card_fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nlb</span><span class="o">=</span><span class="n">nlb</span><span class="p">,</span>
                                  <span class="n">y1</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;TH232_fiss_yield&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                  <span class="n">y2</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;U233_fiss_yield&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                  <span class="n">y3</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;U235_fiss_yield&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                  <span class="n">y4</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;U238_fiss_yield&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                  <span class="n">y5</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;PU239_fiss_yield&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                  <span class="n">y6</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;PU241_fiss_yield&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                  <span class="n">y7</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;CM245_fiss_yield&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                  <span class="n">y8</span><span class="o">=</span><span class="n">_double_get</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="s">&#39;CF249_fiss_yield&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
                                  <span class="n">p</span><span class="o">=</span><span class="n">precision</span><span class="p">,</span>
                                  <span class="p">)</span>
    <span class="k">return</span> <span class="n">s</span>


<span class="k">def</span> <span class="nf">_del_deck_nuc</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="n">nuc</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;removes a nucide from a deck completely.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">deck</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">nuc</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">del</span> <span class="n">data</span><span class="p">[</span><span class="n">nuc</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">_filter_fpy</span><span class="p">(</span><span class="n">tape9</span><span class="p">):</span>
    <span class="n">decay_nlb</span><span class="p">,</span> <span class="n">xsfpy_nlb</span> <span class="o">=</span> <span class="n">nlbs</span><span class="p">(</span><span class="n">tape9</span><span class="p">)</span>
    <span class="n">declib</span> <span class="o">=</span> <span class="n">tape9</span><span class="p">[</span><span class="n">decay_nlb</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
    <span class="n">fpylib</span> <span class="o">=</span> <span class="n">tape9</span><span class="p">[</span><span class="n">xsfpy_nlb</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
    <span class="n">nucset</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">nuc</span> <span class="k">for</span> <span class="n">nuc</span> <span class="ow">in</span> <span class="n">chain</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">fpylib</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> \
                  <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">)])])</span>
    <span class="n">decnucs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">nuc</span> <span class="k">for</span> <span class="n">nuc</span> <span class="ow">in</span> <span class="n">chain</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">declib</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> \
                   <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">)])])</span>
    <span class="k">for</span> <span class="n">nuc</span> <span class="ow">in</span> <span class="n">nucset</span><span class="p">:</span>
        <span class="n">fpy_present</span> <span class="o">=</span> <span class="n">_double_get</span><span class="p">(</span><span class="n">fpylib</span><span class="p">,</span> <span class="s">&#39;fiss_yields_present&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="n">y1</span> <span class="o">=</span> <span class="n">_double_get</span><span class="p">(</span><span class="n">fpylib</span><span class="p">,</span> <span class="s">&#39;TH232_fiss_yield&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">)</span>
        <span class="n">y2</span> <span class="o">=</span> <span class="n">_double_get</span><span class="p">(</span><span class="n">fpylib</span><span class="p">,</span> <span class="s">&#39;U233_fiss_yield&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">)</span>
        <span class="n">y3</span> <span class="o">=</span> <span class="n">_double_get</span><span class="p">(</span><span class="n">fpylib</span><span class="p">,</span> <span class="s">&#39;U235_fiss_yield&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">)</span>
        <span class="n">y4</span> <span class="o">=</span> <span class="n">_double_get</span><span class="p">(</span><span class="n">fpylib</span><span class="p">,</span> <span class="s">&#39;U238_fiss_yield&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">)</span>
        <span class="n">y5</span> <span class="o">=</span> <span class="n">_double_get</span><span class="p">(</span><span class="n">fpylib</span><span class="p">,</span> <span class="s">&#39;PU239_fiss_yield&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">)</span>
        <span class="n">y6</span> <span class="o">=</span> <span class="n">_double_get</span><span class="p">(</span><span class="n">fpylib</span><span class="p">,</span> <span class="s">&#39;PU241_fiss_yield&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">)</span>
        <span class="n">y7</span> <span class="o">=</span> <span class="n">_double_get</span><span class="p">(</span><span class="n">fpylib</span><span class="p">,</span> <span class="s">&#39;CM245_fiss_yield&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">)</span>
        <span class="n">y8</span> <span class="o">=</span> <span class="n">_double_get</span><span class="p">(</span><span class="n">fpylib</span><span class="p">,</span> <span class="s">&#39;CF249_fiss_yield&#39;</span><span class="p">,</span> <span class="n">nuc</span><span class="p">)</span>
        <span class="n">fpy_present</span> <span class="o">=</span> <span class="n">fpy_present</span> <span class="ow">and</span> <span class="nb">any</span><span class="p">([</span><span class="n">y</span> <span class="o">&gt;</span> <span class="mf">0.0</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">[</span><span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">y3</span><span class="p">,</span> <span class="n">y4</span><span class="p">,</span>
                                                             <span class="n">y5</span><span class="p">,</span> <span class="n">y6</span><span class="p">,</span> <span class="n">y7</span><span class="p">,</span> <span class="n">y8</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">fpy_present</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">_del_deck_nuc</span><span class="p">(</span><span class="n">fpylib</span><span class="p">,</span> <span class="n">nuc</span><span class="p">)</span>
        <span class="n">_del_deck_nuc</span><span class="p">(</span><span class="n">declib</span><span class="p">,</span> <span class="n">nuc</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_ensure_nucs_in_decay</span><span class="p">(</span><span class="n">tape9</span><span class="p">):</span>
    <span class="n">decay_nlb</span><span class="p">,</span> <span class="n">xsfpy_nlb</span> <span class="o">=</span> <span class="n">nlbs</span><span class="p">(</span><span class="n">tape9</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">dn</span><span class="p">,</span> <span class="n">xn</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">decay_nlb</span><span class="p">,</span> <span class="n">xsfpy_nlb</span><span class="p">):</span>
        <span class="n">dlib</span> <span class="o">=</span> <span class="n">tape9</span><span class="p">[</span><span class="n">dn</span><span class="p">]</span>
        <span class="n">dhl</span> <span class="o">=</span> <span class="n">tape9</span><span class="p">[</span><span class="n">dn</span><span class="p">][</span><span class="s">&#39;half_life&#39;</span><span class="p">]</span>
        <span class="n">xlib</span> <span class="o">=</span> <span class="n">tape9</span><span class="p">[</span><span class="n">xn</span><span class="p">]</span>
        <span class="n">nucset</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">nuc</span> <span class="k">for</span> <span class="n">nuc</span> <span class="ow">in</span> <span class="n">chain</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">xlib</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> \
                      <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">)])])</span>
        <span class="k">for</span> <span class="n">nuc</span> <span class="ow">in</span> <span class="n">nucset</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">nuc</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dhl</span><span class="p">:</span>
                <span class="n">dhl</span><span class="p">[</span><span class="n">nuc</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">half_life</span><span class="p">(</span><span class="n">nucname</span><span class="o">.</span><span class="n">zzaaam</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">nuc</span><span class="p">)))</span>


<span class="n">_DECK_2_STR_MAP</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">(</span><span class="s">&#39;decay&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">):</span> <span class="n">_decay_deck_2_str</span><span class="p">,</span>
    <span class="p">(</span><span class="s">&#39;xsfpy&#39;</span><span class="p">,</span> <span class="s">&#39;activation_products&#39;</span><span class="p">):</span> <span class="n">_xs_deck_2_str</span><span class="p">,</span>
    <span class="p">(</span><span class="s">&#39;xsfpy&#39;</span><span class="p">,</span> <span class="s">&#39;actinides&#39;</span><span class="p">):</span> <span class="n">_xs_deck_2_str</span><span class="p">,</span>
    <span class="p">(</span><span class="s">&#39;xsfpy&#39;</span><span class="p">,</span> <span class="s">&#39;fission_products&#39;</span><span class="p">):</span> <span class="n">_xsfpy_deck_2_str</span><span class="p">,</span>
    <span class="p">}</span>


<div class="viewcode-block" id="write_tape9"><a class="viewcode-back" href="../../pyapi/origen22.html#pyne.origen22.write_tape9">[docs]</a><span class="k">def</span> <span class="nf">write_tape9</span><span class="p">(</span><span class="n">tape9</span><span class="p">,</span> <span class="n">outfile</span><span class="o">=</span><span class="s">&quot;TAPE9.INP&quot;</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Writes an ORIGEN 2.2 TAPE9.INP file given a tape9 dictionary of values.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    tape9 : dict</span>
<span class="sd">        A tape9 dictionary. See parse_tape9() for more information on the structure.</span>
<span class="sd">    outfile : str or file-like object, optional</span>
<span class="sd">        Path to the new tape9 file.</span>
<span class="sd">    precision :  int, optional</span>
<span class="sd">        The number of significant figures that all output data is given to beyond</span>
<span class="sd">        the decimal point.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">t9</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    <span class="n">_filter_fpy</span><span class="p">(</span><span class="n">tape9</span><span class="p">)</span>
    <span class="n">_ensure_nucs_in_decay</span><span class="p">(</span><span class="n">tape9</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">nlb</span><span class="p">,</span> <span class="n">deck</span> <span class="ow">in</span> <span class="n">tape9</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">t9</span> <span class="o">+=</span> <span class="n">_deck_title_fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nlb</span><span class="o">=</span><span class="n">nlb</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">deck</span><span class="p">[</span><span class="s">&#39;title&#39;</span><span class="p">])</span>
        <span class="n">t9</span> <span class="o">+=</span> <span class="n">_DECK_2_STR_MAP</span><span class="p">[</span><span class="n">deck</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">],</span> <span class="n">deck</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;_subtype&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)](</span><span class="n">nlb</span><span class="p">,</span> <span class="n">deck</span><span class="p">,</span> <span class="n">precision</span><span class="p">)</span>
        <span class="n">t9</span> <span class="o">+=</span> <span class="s">&quot;  -1</span><span class="se">\n</span><span class="s">&quot;</span>

    <span class="n">opened_here</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">):</span>
        <span class="n">outfile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">)</span>
        <span class="n">opened_here</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">t9</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">opened_here</span><span class="p">:</span>
        <span class="n">outfile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</div>
<span class="n">_fyp_present</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;activation_products&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>  <span class="s">&#39;actinides&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
                <span class="s">&#39;fission_products&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="p">}</span>

<span class="n">_xslib_computers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;sigma_gamma&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">xscache</span><span class="p">:</span> <span class="n">xscache</span><span class="p">[</span><span class="n">nuc</span><span class="p">,</span> <span class="s">&#39;gamma&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
    <span class="s">&#39;sigma_2n&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">xscache</span><span class="p">:</span> <span class="n">xscache</span><span class="p">[</span><span class="n">nuc</span><span class="p">,</span> <span class="s">&#39;z_2n&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
    <span class="s">&#39;sigma_gamma_x&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">xscache</span><span class="p">:</span> <span class="n">xscache</span><span class="p">[</span><span class="n">nuc</span><span class="p">,</span> <span class="s">&#39;gamma_1&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> \
                                          <span class="n">xscache</span><span class="p">[</span><span class="n">nuc</span><span class="p">,</span> <span class="s">&#39;gamma_2&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
    <span class="s">&#39;sigma_2n_x&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">xscache</span><span class="p">:</span> <span class="n">xscache</span><span class="p">[</span><span class="n">nuc</span><span class="p">,</span> <span class="s">&#39;z_2n_1&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> \
                                       <span class="n">xscache</span><span class="p">[</span><span class="n">nuc</span><span class="p">,</span> <span class="s">&#39;z_2n_2&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
    <span class="s">&#39;sigma_3n&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">xscache</span><span class="p">:</span> <span class="n">xscache</span><span class="p">[</span><span class="n">nuc</span><span class="p">,</span> <span class="s">&#39;z_3n&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
    <span class="s">&#39;sigma_p&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">xscache</span><span class="p">:</span> <span class="n">xscache</span><span class="p">[</span><span class="n">nuc</span><span class="p">,</span> <span class="s">&#39;p&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
    <span class="s">&#39;sigma_alpha&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">xscache</span><span class="p">:</span> <span class="n">xscache</span><span class="p">[</span><span class="n">nuc</span><span class="p">,</span> <span class="s">&#39;alpha&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
    <span class="s">&#39;sigma_f&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">xscache</span><span class="p">:</span> <span class="n">xscache</span><span class="p">[</span><span class="n">nuc</span><span class="p">,</span> <span class="s">&#39;fission&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
    <span class="s">&#39;TH232_fiss_yield&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">xscache</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">fpyield</span><span class="p">(</span><span class="mi">902320000</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
    <span class="s">&#39;U233_fiss_yield&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">xscache</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">fpyield</span><span class="p">(</span><span class="mi">922330000</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
    <span class="s">&#39;U235_fiss_yield&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">xscache</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">fpyield</span><span class="p">(</span><span class="mi">922350000</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
    <span class="s">&#39;U238_fiss_yield&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">xscache</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">fpyield</span><span class="p">(</span><span class="mi">922380000</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
    <span class="s">&#39;PU239_fiss_yield&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">xscache</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">fpyield</span><span class="p">(</span><span class="mi">942390000</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
    <span class="s">&#39;PU241_fiss_yield&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">xscache</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">fpyield</span><span class="p">(</span><span class="mi">942410000</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
    <span class="s">&#39;CM245_fiss_yield&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">xscache</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">fpyield</span><span class="p">(</span><span class="mi">962450000</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
    <span class="s">&#39;CF249_fiss_yield&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">xscache</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">fpyield</span><span class="p">(</span><span class="mi">982490000</span><span class="p">,</span> <span class="n">nuc</span><span class="p">),</span>
    <span class="p">}</span>


<span class="k">def</span> <span class="nf">_compute_xslib</span><span class="p">(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">lib</span><span class="p">,</span> <span class="n">xscache</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">lib</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;_&#39;</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">elif</span> <span class="n">field</span> <span class="o">==</span> <span class="s">&#39;fiss_yields_present&#39;</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">_fyp_present</span><span class="p">[</span><span class="n">lib</span><span class="p">[</span><span class="s">&#39;_subtype&#39;</span><span class="p">]]</span>
            <span class="k">continue</span>
        <span class="k">elif</span> <span class="n">field</span> <span class="o">==</span> <span class="s">&#39;title&#39;</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">_xslib_computers</span><span class="p">[</span><span class="n">field</span><span class="p">](</span><span class="n">nuc</span><span class="p">,</span> <span class="n">xscache</span><span class="p">)</span>


<div class="viewcode-block" id="xslibs"><a class="viewcode-back" href="../../pyapi/origen22.html#pyne.origen22.xslibs">[docs]</a><span class="k">def</span> <span class="nf">xslibs</span><span class="p">(</span><span class="n">nucs</span><span class="o">=</span><span class="n">NUCS</span><span class="p">,</span> <span class="n">xscache</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">nlb</span><span class="o">=</span><span class="p">(</span><span class="mi">201</span><span class="p">,</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">203</span><span class="p">),</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Generates a TAPE9 dictionary of cross section &amp; fission product yield data</span>
<span class="sd">    for a set of nuclides.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    nucs : iterable of ints, optional</span>
<span class="sd">        Set of nuclides in id form</span>
<span class="sd">    xscache : XSCache, optional</span>
<span class="sd">        A cross section cache to get cross section data. If None, uses default.</span>
<span class="sd">    nlb : length-3 sequence of ints</span>
<span class="sd">        Library numbers for activation products, actinides &amp; daugthers, and</span>
<span class="sd">        fission products respectively.</span>
<span class="sd">    verbose : bool, optional</span>
<span class="sd">        Flag to print status as we go.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    t9 : dict</span>
<span class="sd">        The data needed for a TAPE9 file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">xscache</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">xscache</span> <span class="o">=</span> <span class="n">cache</span><span class="o">.</span><span class="n">xs_cache</span>
    <span class="n">old_flux</span> <span class="o">=</span> <span class="n">xscache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;phi_g&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="n">old_group_struct</span> <span class="o">=</span> <span class="n">xscache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;E_g&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">old_group_struct</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">xscache</span><span class="p">[</span><span class="s">&#39;E_g&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">1e-7</span><span class="p">]</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">old_group_struct</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">xscache</span><span class="p">[</span><span class="s">&#39;E_g&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">old_group_struct</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">old_group_struct</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
    <span class="n">nucs</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nucs</span><span class="p">)</span>

    <span class="c"># setup tape9</span>
    <span class="n">t9</span> <span class="o">=</span> <span class="p">{</span><span class="n">nlb</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="p">{</span><span class="s">&#39;_type&#39;</span><span class="p">:</span> <span class="s">&#39;xsfpy&#39;</span><span class="p">,</span> <span class="s">&#39;_subtype&#39;</span><span class="p">:</span> <span class="s">&#39;activation_products&#39;</span><span class="p">,</span>
                   <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;PyNE Cross Section Data for Activation Products&#39;</span><span class="p">},</span>
          <span class="n">nlb</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="p">{</span><span class="s">&#39;_type&#39;</span><span class="p">:</span> <span class="s">&#39;xsfpy&#39;</span><span class="p">,</span> <span class="s">&#39;_subtype&#39;</span><span class="p">:</span> <span class="s">&#39;actinides&#39;</span><span class="p">,</span>
                   <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;PyNE Cross Section Data for Actinides &amp; Daughters&#39;</span><span class="p">},</span>
          <span class="n">nlb</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="p">{</span><span class="s">&#39;_type&#39;</span><span class="p">:</span> <span class="s">&#39;xsfpy&#39;</span><span class="p">,</span> <span class="s">&#39;_subtype&#39;</span><span class="p">:</span> <span class="s">&#39;fission_products&#39;</span><span class="p">,</span>
                   <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;PyNE Cross Section Data for Fission Products&#39;</span><span class="p">},</span>
          <span class="p">}</span>
    <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">lib</span> <span class="ow">in</span> <span class="n">t9</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">XSFPY_FIELDS</span><span class="p">:</span>
            <span class="n">lib</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">ACTIVATION_PRODUCT_FIELDS</span><span class="p">:</span>
        <span class="n">t9</span><span class="p">[</span><span class="n">nlb</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">ACTINIDE_FIELDS</span><span class="p">:</span>
        <span class="n">t9</span><span class="p">[</span><span class="n">nlb</span><span class="p">[</span><span class="mi">1</span><span class="p">]][</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">FISSION_PRODUCT_FIELDS</span><span class="p">:</span>
        <span class="n">t9</span><span class="p">[</span><span class="n">nlb</span><span class="p">[</span><span class="mi">2</span><span class="p">]][</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c"># fill with data</span>
    <span class="k">for</span> <span class="n">nuc</span> <span class="ow">in</span> <span class="n">nucs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&#39;computing {0}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nucname</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="n">nuc</span><span class="p">)))</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">nucname</span><span class="o">.</span><span class="n">zzaaam</span><span class="p">(</span><span class="n">nuc</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nuc</span> <span class="ow">in</span> <span class="n">ACTIVATION_PRODUCT_NUCS</span><span class="p">:</span>
            <span class="n">_compute_xslib</span><span class="p">(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">t9</span><span class="p">[</span><span class="n">nlb</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">xscache</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nuc</span> <span class="ow">in</span> <span class="n">ACTINIDE_AND_DAUGHTER_NUCS</span><span class="p">:</span>
            <span class="n">_compute_xslib</span><span class="p">(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">t9</span><span class="p">[</span><span class="n">nlb</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="n">xscache</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nuc</span> <span class="ow">in</span> <span class="n">FISSION_PRODUCT_NUCS</span><span class="p">:</span>
            <span class="n">_compute_xslib</span><span class="p">(</span><span class="n">nuc</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">t9</span><span class="p">[</span><span class="n">nlb</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span> <span class="n">xscache</span><span class="p">)</span>
    <span class="n">xscache</span><span class="p">[</span><span class="s">&#39;E_g&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">old_group_struct</span>
    <span class="n">xscache</span><span class="p">[</span><span class="s">&#39;phi_g&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">old_flux</span>
    <span class="k">return</span> <span class="n">t9</span>

</div>
<div class="viewcode-block" id="nlbs"><a class="viewcode-back" href="../../pyapi/origen22.html#pyne.origen22.nlbs">[docs]</a><span class="k">def</span> <span class="nf">nlbs</span><span class="p">(</span><span class="n">t9</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Finds the library number tuples in a tape9 dictionary.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    t9 : dict</span>
<span class="sd">        TAPE9 dictionary.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    decay_nlb : 3-tuple</span>
<span class="sd">        Tuple of decay library numbers.</span>
<span class="sd">    xsfpy_nlb : 3-tuple</span>
<span class="sd">        Tuple of cross section &amp; fission product library numbers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">decay_nlb</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">xsfpy_nlb</span> <span class="o">=</span> <span class="p">[</span><span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">lib</span> <span class="ow">in</span> <span class="n">t9</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">lib</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;decay&#39;</span><span class="p">:</span>
            <span class="n">decay_nlb</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">lib</span><span class="p">[</span><span class="s">&#39;_subtype&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;activation_products&#39;</span><span class="p">:</span>
            <span class="n">xsfpy_nlb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span>
        <span class="k">elif</span> <span class="n">lib</span><span class="p">[</span><span class="s">&#39;_subtype&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;actinides&#39;</span><span class="p">:</span>
            <span class="n">xsfpy_nlb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span>
        <span class="k">elif</span> <span class="n">lib</span><span class="p">[</span><span class="s">&#39;_subtype&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;fission_products&#39;</span><span class="p">:</span>
            <span class="n">xsfpy_nlb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span>
    <span class="n">decay_nlb</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">decay_nlb</span><span class="p">),</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">xsfpy_nlb</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="make_tape9"><a class="viewcode-back" href="../../pyapi/origen22.html#pyne.origen22.make_tape9">[docs]</a><span class="k">def</span> <span class="nf">make_tape9</span><span class="p">(</span><span class="n">nucs</span><span class="p">,</span> <span class="n">xscache</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">nlb</span><span class="o">=</span><span class="p">(</span><span class="mi">201</span><span class="p">,</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">203</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;Make a TAPE9 dict with data for a given list of nucs using data from</span>
<span class="sd">    a given data source.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    nucs : iterable of ints, optional</span>
<span class="sd">        Set of nuclides in any format.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tape9: dict</span>
<span class="sd">        A full TAPE9 nested structure inside a dict. Keys 1, 2, and 3 correspond</span>
<span class="sd">        to decay decks. 219 is the activation products deck. 220 is the</span>
<span class="sd">        actinides deck. 221 is the fission product yield deck.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># build decay decks</span>
    <span class="n">decay_file</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">(</span><span class="n">decay_tape9</span><span class="o">.</span><span class="n">decay_tape9</span><span class="p">)</span>
    <span class="n">decay</span> <span class="o">=</span> <span class="n">parse_tape9</span><span class="p">(</span><span class="n">decay_file</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">xscache</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">xscache</span> <span class="o">=</span> <span class="n">cache</span><span class="o">.</span><span class="n">XSCache</span><span class="p">()</span>
    <span class="n">nucs</span> <span class="o">=</span> <span class="p">{</span><span class="n">nucname</span><span class="o">.</span><span class="n">id</span><span class="p">(</span><span class="n">nuc</span><span class="p">)</span> <span class="k">for</span> <span class="n">nuc</span> <span class="ow">in</span> <span class="n">nucs</span><span class="p">}</span>
    <span class="n">xsfpys</span> <span class="o">=</span> <span class="n">xslibs</span><span class="p">(</span><span class="n">nucs</span><span class="o">=</span><span class="n">nucs</span><span class="p">,</span> <span class="n">xscache</span><span class="o">=</span><span class="n">xscache</span><span class="p">,</span> <span class="n">nlb</span><span class="o">=</span><span class="n">nlb</span><span class="p">)</span>
    <span class="n">tape9</span> <span class="o">=</span> <span class="n">merge_tape9</span><span class="p">([</span><span class="n">decay</span><span class="p">,</span> <span class="n">xsfpys</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">tape9</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../../index.html" title="index">
          <img class="logo" src="../../_static/pyne_icon_small.png" alt="Logo"/>
        </a></p>
  <div class="sphinxlocaltoc">
  <h3>Contents</h3>
    <ul><li><ul>
    <li><a href="../../pyapi/index.html">Capabilities</a></li>
    <li><a>Get Started</a></li>
    <ul>
       <li><a href="../../install/index.html">Install</a></li>
       <li><a href="../../tutorial/index.html">Tutorial</a></li>
    </ul>
    <li><a>Use</a></li>
    <ul>
       <li><a href="../../usersguide/index.html">User's Guide</a></li>
       <li><a>API Documentation</a></li>
       <ul>
          <li><a href="../../pyapi/index.html">Python</a></li>
          <li><a href="../../cppapi/index.html">C++</a></li>
       </ul>
       <li><a href="mailto:pyne-users+subscribe@googlegroups.com?subject=Subscribe&body=Send this message to subscribe to the list">Join</a> the <a href="https://groups.google.com/forum/#!forum/pyne-users" target="_blank"> Users</a> mailing list.
       <li><a href="https://github.com/pyne/pyne/issues">Report an Issue</a></li>
    </ul>
    <li><a>Contribute</a></li>
    <ul>
       <li><a href="http://github.com/pyne/pyne">Source Code</a></li>
       <li><a href="../../devsguide/index.html">Developer's Guide</a></li>
       <li><a href="mailto:pyne-users+subscribe@googlegroups.com?subject=Subscribe&body=Send this message to subscribe to the list">Join</a> the 
           <a href="https://groups.google.com/forum/#!forum/pyne-users" target="_blank">Developers</a> mailing list.
    </ul>
    </ul></li></ul>
  </div>
    
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="../../np-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
    <li><a href="../../index.html">PyNE</a> &raquo;</li>

          <li><a href="../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    </div>

    <div class="footer">
        &copy; Copyright 2011-2014, The PyNE Development Team.
      Last updated on Nov 24, 2014.
    </div><script type="text/javascript">
    if(ga_enabled){
        document.write("<div class=\"footer\">This page uses <a href=\"http://analytics.google.com\">Google Analytics</a> to collect statistics. ");
        document.write("Click <button title=\"set cookie to disable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', 'true', {expires: 3650, path: '/'}); window.location.reload(); return false; \">here</button> to disable analytics for this site.");
        document.write("</div>");
    }else{
        document.write("<div class=\"footer\">Google Analytics has been disabled. ");
        document.write("Click <button title=\"set cookie to re-enable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', null, {path: '/'}); window.location.reload(); return false; \">here</button> to re-enable analytics for this site.");
    };
</script>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>